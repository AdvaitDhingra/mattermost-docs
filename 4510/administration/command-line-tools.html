



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Line Tools &mdash; Mattermost 5.34 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://docs.mattermost.com/administration/command-line-tools.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="mmctl Command Line Tool (Beta)" href="mmctl-cli-tool.html" />
    <link rel="prev" title="Guest Accounts (Beta) (E10/E20)" href="../deployment/guest-accounts.html" />
  
  	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-K874RWM');</script>
	<!-- End Google Tag Manager -->
	
</head>

<body class="wy-body-for-nav">

	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K874RWM"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                5.34
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../guides/administrator.html">Self-Managed Administrator's Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview/architecture.html">Architecture Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deployment/deployment.html">Deployment Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#installing-mattermost">Installing Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#deployment">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#configure-mattermost">Configure Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#incident-collaboration">Incident Collaboration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#mobile-apps">Mobile Apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#onboard-users">Onboard Users</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../guides/administrator.html#administration">Administration</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Command Line Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-the-cli">Using the CLI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mattermost-3-6-and-later">Mattermost 3.6 and later</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mattermost-3-5-and-earlier">Mattermost 3.5 and earlier</a></li>
<li class="toctree-l4"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mmctl-cli-tool.html">mmctl Command Line Tool (Beta)</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts.html">Scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="statistics.html">Statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../integrations/net-promoter-score.html">User Satisfaction Surveys</a></li>
<li class="toctree-l3"><a class="reference internal" href="notices.html">In-Product Notices</a></li>
<li class="toctree-l3"><a class="reference internal" href="health-check.html">Health Check</a></li>
<li class="toctree-l3"><a class="reference internal" href="announcement-banner.html">Announcement Banner (E10)</a></li>
<li class="toctree-l3"><a class="reference internal" href="bulk-export.html">Bulk Export Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="generating-support-packet.html">Generating a Support Packet (E10/E20)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#upgrade-mattermost">Upgrade Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#mattermost-integrations">Mattermost Integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#mattermost-compliance">Mattermost Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#scaling-mattermost">Scaling Mattermost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/administrator.html#community-managed-documentation">Community-Managed Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../guides/cloud-admin-guide.html">Cloud Administrator's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Developer's Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mattermost</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          


  


<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../guides/administrator.html">Self-Managed Administrator’s Guide</a> &raquo;</li>
    
    <li>Command Line Tools</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/mattermost/docs/blob/master/source/administration/command-line-tools.rst" class="fa fa-github"> Edit</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <article class="document" itemscope="itemscope" itemtype="https://schema.org/Article">
           <div itemprop="articleBody" role="main">
            
  <div class="section" id="command-line-tools">
<h1>Command Line Tools<a class="headerlink" href="#command-line-tools" title="Permalink to this headline">¶</a></h1>
<p>From the directory where the Mattermost server is installed, a <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> command is available for configuring the system. For an overview of the Mattermost command line interface (CLI), <a class="reference external" href="https://medium.com/&#64;santosjs/plugging-in-to-the-mattermost-cli-8cdcef2bd1f6">read this article</a> from Santos.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CLI is run in a single node which bypasses the mechanisms that a <a class="reference external" href="https://docs.mattermost.com/deployment/cluster.html">High Availability environment</a> uses to perform actions across all nodes in the cluster. As a result, when running <a class="reference external" href="https://docs.mattermost.com/administration/command-line-tools.html">CLI commands</a> in a High Availability environment, tasks such as creating and deleting users or changing configuration settings require a server restart.</p>
</div>
<p>These <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> commands include:</p>
<p><strong>General Administration</strong></p>
<ul class="simple">
<li><p>Creating teams</p></li>
<li><p>Creating users</p></li>
<li><p>Assigning roles to users</p></li>
<li><p>Resetting user passwords</p></li>
<li><p>Inviting users to teams</p></li>
</ul>
<p><strong>Advanced Administration</strong></p>
<ul class="simple">
<li><p>Permanently deleting users (use cautiously - database backup
recommended before use)</p></li>
<li><p>Permanently deleting teams (use cautiously - database backup
recommended before use)</p></li>
</ul>
<p><strong>Advanced Automation</strong></p>
<ul class="simple">
<li><p>Creating channels</p></li>
<li><p>Inviting users to channels</p></li>
<li><p>Removing users from channels</p></li>
<li><p>Listing all channels for a team</p></li>
<li><p>Restoring previously deleted channels</p></li>
<li><p>Modifying a channel’s public/private type</p></li>
<li><p>Migrating sign-in options</p></li>
<li><p>Resetting multi-factor authentication for a user</p></li>
<li><p>Creating sample data</p></li>
</ul>
<p><strong>Diagnostics</strong></p>
<ul class="simple">
<li><p>Analyzing the database for relational consistency</p></li>
</ul>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#using-the-cli" id="id2">Using the CLI</a></p>
<ul>
<li><p><a class="reference internal" href="#using-the-cli-on-gitlab-omnibus" id="id3">Using the CLI on GitLab Omnibus</a></p></li>
<li><p><a class="reference internal" href="#using-the-cli-on-docker-install" id="id4">Using the CLI on Docker Install</a></p></li>
<li><p><a class="reference internal" href="#using-the-cli-on-docker-preview" id="id5">Using the CLI on Docker Preview</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-3-6-and-later" id="id6">Mattermost 3.6 and later</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost" id="id7">mattermost</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel" id="id8">mattermost channel</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-channel-add" id="id9">mattermost channel add</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-archive" id="id10">mattermost channel archive</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-create" id="id11">mattermost channel create</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-delete" id="id12">mattermost channel delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-list" id="id13">mattermost channel list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-modify" id="id14">mattermost channel modify</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-move" id="id15">mattermost channel move</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-remove" id="id16">mattermost channel remove</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-rename" id="id17">mattermost channel rename</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-restore" id="id18">mattermost channel restore</a></p></li>
<li><p><a class="reference internal" href="#mattermost-channel-search" id="id19">mattermost channel search</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-command" id="id20">mattermost command</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-command-create" id="id21">mattermost command create</a></p></li>
<li><p><a class="reference internal" href="#mattermost-command-delete" id="id22">mattermost command delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-command-list" id="id23">mattermost command list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-command-modify" id="id24">mattermost command modify</a></p></li>
<li><p><a class="reference internal" href="#mattermost-command-move" id="id25">mattermost command move</a></p></li>
<li><p><a class="reference internal" href="#mattermost-command-show" id="id26">mattermost command show</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-config" id="id27">mattermost config</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-config-get" id="id28">mattermost config get</a></p></li>
<li><p><a class="reference internal" href="#mattermost-config-migrate" id="id29">mattermost config migrate</a></p></li>
<li><p><a class="reference internal" href="#mattermost-config-reset" id="id30">mattermost config reset</a></p></li>
<li><p><a class="reference internal" href="#mattermost-config-set" id="id31">mattermost config set</a></p></li>
<li><p><a class="reference internal" href="#mattermost-config-show" id="id32">mattermost config show</a></p></li>
<li><p><a class="reference internal" href="#mattermost-config-validate" id="id33">mattermost config validate</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-db-init" id="id34">mattermost db init</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export" id="id35">mattermost export</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-export-actiance" id="id36">mattermost export actiance</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export-bulk" id="id37">mattermost export bulk</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export-csv" id="id38">mattermost export csv</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export-global-relay-zip" id="id39">mattermost export global-relay-zip</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export-schedule" id="id40">mattermost export schedule</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-extract-documents-content" id="id41">mattermost extract-documents-content</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group" id="id42">mattermost group</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel" id="id43">mattermost group channel</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-group-channel-enable" id="id44">mattermost group channel enable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-disable" id="id45">mattermost group channel disable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-list" id="id46">mattermost group channel list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-status" id="id47">mattermost group channel status</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-group-team" id="id48">mattermost group team</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-group-team-enable" id="id49">mattermost group team enable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-disable" id="id50">mattermost group team disable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-list" id="id51">mattermost group team list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-status" id="id52">mattermost group team status</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-help" id="id53">mattermost help</a></p></li>
<li><p><a class="reference internal" href="#mattermost-import" id="id54">mattermost import</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-import-bulk" id="id55">mattermost import bulk</a></p></li>
<li><p><a class="reference internal" href="#mattermost-import-slack" id="id56">mattermost import slack</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-integrity" id="id57">mattermost integrity</a></p></li>
<li><p><a class="reference internal" href="#mattermost-jobserver" id="id58">mattermost jobserver</a></p></li>
<li><p><a class="reference internal" href="#mattermost-ldap" id="id59">mattermost ldap</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-ldap-idmigrate" id="id60">mattermost ldap idmigrate</a></p></li>
<li><p><a class="reference internal" href="#mattermost-ldap-sync" id="id61">mattermost ldap sync</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-license" id="id62">mattermost license</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-license-upload" id="id63">mattermost license upload</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-logs" id="id64">mattermost logs</a></p></li>
<li><p><a class="reference internal" href="#mattermost-permissions" id="id65">mattermost permissions</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-permissions-export" id="id66">mattermost permissions export</a></p></li>
<li><p><a class="reference internal" href="#mattermost-permissions-import" id="id67">mattermost permissions import</a></p></li>
<li><p><a class="reference internal" href="#mattermost-permissions-reset" id="id68">mattermost permissions reset</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-plugin" id="id69">mattermost plugin</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-plugin-add" id="id70">mattermost plugin add</a></p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-delete" id="id71">mattermost plugin delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-disable" id="id72">mattermost plugin disable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-enable" id="id73">mattermost plugin enable</a></p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-list" id="id74">mattermost plugin list</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-reset" id="id75">mattermost reset</a></p></li>
<li><p><a class="reference internal" href="#mattermost-roles" id="id76">mattermost roles</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-roles-member" id="id77">mattermost roles member</a></p></li>
<li><p><a class="reference internal" href="#mattermost-roles-system-admin" id="id78">mattermost roles system_admin</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-sampledata" id="id79">mattermost sampledata</a></p></li>
<li><p><a class="reference internal" href="#mattermost-server" id="id80">mattermost server</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team" id="id81">mattermost team</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-team-add" id="id82">mattermost team add</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-archive" id="id83">mattermost team archive</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-create" id="id84">mattermost team create</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-delete" id="id85">mattermost team delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-list" id="id86">mattermost team list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-modify" id="id87">mattermost team modify</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-remove" id="id88">mattermost team remove</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-rename" id="id89">mattermost team rename</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-restore" id="id90">mattermost team restore</a></p></li>
<li><p><a class="reference internal" href="#mattermost-team-search" id="id91">mattermost team search</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-user" id="id92">mattermost user</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-user-activate" id="id93">mattermost user activate</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-convert" id="id94">mattermost user convert</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-create" id="id95">mattermost user create</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-deactivate" id="id96">mattermost user deactivate</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-delete" id="id97">mattermost user delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-deleteall" id="id98">mattermost user deleteall</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-email" id="id99">mattermost user email</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-invite" id="id100">mattermost user invite</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-migrate-auth" id="id101">mattermost user migrate_auth</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-password" id="id102">mattermost user password</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-resetmfa" id="id103">mattermost user resetmfa</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-search" id="id104">mattermost user search</a></p></li>
<li><p><a class="reference internal" href="#mattermost-user-verify" id="id105">mattermost user verify</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-version" id="id106">mattermost version</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook" id="id107">mattermost webhook</a></p>
<ul>
<li><p><a class="reference internal" href="#mattermost-webhook-create-incoming" id="id108">mattermost webhook create-incoming</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-create-outgoing" id="id109">mattermost webhook create-outgoing</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-delete" id="id110">mattermost webhook delete</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-list" id="id111">mattermost webhook list</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-modify-incoming" id="id112">mattermost webhook modify-incoming</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-modify-outgoing" id="id113">mattermost webhook modify-outgoing</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-move-outgoing" id="id114">mattermost webhook move-outgoing</a></p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-show" id="id115">mattermost webhook show</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#mattermost-3-5-and-earlier" id="id116">Mattermost 3.5 and earlier</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting" id="id117">Troubleshooting</a></p>
<ul>
<li><p><a class="reference internal" href="#executing-a-command-hangs-and-doesn-t-complete" id="id118">Executing a command hangs and doesn’t complete</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="using-the-cli">
<h2><a class="toc-backref" href="#contents">Using the CLI</a><a class="headerlink" href="#using-the-cli" title="Permalink to this headline">¶</a></h2>
<p>To run the CLI commands, you must be in the Mattermost root directory. On a default installation of Mattermost, the root directory is <code class="docutils literal notranslate"><span class="pre">/opt/mattermost</span></code>. If you followed our standard <a class="reference external" href="../guides/administrator.html#installing-mattermost">installation process</a>, you must run the commands as the user <code class="docutils literal notranslate"><span class="pre">mattermost</span></code>. The name of the executable is <code class="docutils literal notranslate"><span class="pre">mattermost</span></code>, and it can be found in the <code class="docutils literal notranslate"><span class="pre">/opt/mattermost/bin</span></code> directory.</p>
<p><strong>For example, to get the Mattermost version on a default installation of Mattermost:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /opt/mattermost/
sudo -u mattermost bin/mattermost version
</pre></div>
</div>
<p>Ensure you run the Mattermost binary as the <code class="docutils literal notranslate"><span class="pre">mattermost</span></code> user. Running it as <code class="docutils literal notranslate"><span class="pre">root</span></code> user (for example) may cause complications with permissions as the binary initiates plugins and accesses various files when running CLI commands. Running the server as <code class="docutils literal notranslate"><span class="pre">root</span></code> may result in ownership of the plugins and files to be overwritten as well as other potential permissions errors.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When running CLI commands on a Mattermost installation that has the configuration stored in the database, you might need to pass the database connection string as:</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>bin/mattermost --config<span class="o">=</span><span class="s2">&quot;postgres://mmuser:mostest@localhost:5432/mattermost_test?sslmode=disable\u0026connect_timeout=10&quot;</span>
</pre></div>
</div>
<div class="section" id="using-the-cli-on-gitlab-omnibus">
<h3><a class="toc-backref" href="#contents">Using the CLI on GitLab Omnibus</a><a class="headerlink" href="#using-the-cli-on-gitlab-omnibus" title="Permalink to this headline">¶</a></h3>
<p>On GitLab Omnibus, you must be in the following directory when you run CLI commands: <code class="docutils literal notranslate"><span class="pre">/opt/gitlab/embedded/service/mattermost</span></code>. Also, you must run the commands as the user <em>mattermost</em> and specify the location of the configuration file. The executable is <code class="docutils literal notranslate"><span class="pre">/opt/gitlab/embedded/bin/mattermost</span></code>.</p>
<p><strong>For example, to get the Mattermost version on GitLab Omnibus:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /opt/gitlab/embedded/service/mattermost
sudo /opt/gitlab/embedded/bin/chpst -e /opt/gitlab/etc/mattermost/env -P -U mattermost:mattermost -u mattermost:mattermost /opt/gitlab/embedded/bin/mattermost --config<span class="o">=</span>/var/opt/gitlab/mattermost/config.json version
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The example commands in the documentation are for a default installation of Mattermost. You must modify the commands so that they work on GitLab Omnibus.</p>
</div>
</div>
<div class="section" id="using-the-cli-on-docker-install">
<h3><a class="toc-backref" href="#contents">Using the CLI on Docker Install</a><a class="headerlink" href="#using-the-cli-on-docker-install" title="Permalink to this headline">¶</a></h3>
<p>On Docker install, the <code class="docutils literal notranslate"><span class="pre">/mattermost/bin</span></code> directory was added to <code class="docutils literal notranslate"><span class="pre">PATH</span></code>, so you can use the CLI directly with the <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">exec</span></code> command. Note that the container name may be <code class="docutils literal notranslate"><span class="pre">mattermostdocker_app_1</span></code> if you installed Mattermost with <code class="docutils literal notranslate"><span class="pre">docker-compose.yml</span></code>.</p>
<p><strong>For example, to get the Mattermost version on a Docker install:</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker <span class="nb">exec</span> -it &lt;your-mattermost-container-name&gt; mattermost version
</pre></div>
</div>
</div>
<div class="section" id="using-the-cli-on-docker-preview">
<h3><a class="toc-backref" href="#contents">Using the CLI on Docker Preview</a><a class="headerlink" href="#using-the-cli-on-docker-preview" title="Permalink to this headline">¶</a></h3>
<p>The preceding documentation and command reference below also applies to the <a class="reference external" href="https://github.com/mattermost/mattermost-docker-preview">Mattermost docker preview image</a>.</p>
</div>
</div>
<div class="section" id="mattermost-3-6-and-later">
<h2><a class="toc-backref" href="#contents">Mattermost 3.6 and later</a><a class="headerlink" href="#mattermost-3-6-and-later" title="Permalink to this headline">¶</a></h2>
<p>The new CLI tool is supported in Mattermost 3.6 and later. To see available commands in the old CLI tool, see <a class="reference internal" href="#mattermost-3-5-and-earlier">Mattermost 3.5 and earlier</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For Mattermost 4.10 and earlier, the commands used the <code class="docutils literal notranslate"><span class="pre">platform</span></code> executable instead of <code class="docutils literal notranslate"><span class="pre">mattermost</span></code>. For example, to check the Mattermost version, one would run <code class="docutils literal notranslate"><span class="pre">./platform</span> <span class="pre">version</span></code> instead of <code class="docutils literal notranslate"><span class="pre">./mattermost</span> <span class="pre">version</span></code>.</p>
</div>
<p>Notes:</p>
<ul class="simple">
<li><p>Parameters in CLI commands are order-specific.</p></li>
<li><p>If special characters (<code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">)</span></code>, <code class="docutils literal notranslate"><span class="pre">\</span></code>, <code class="docutils literal notranslate"><span class="pre">'</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>) are used, the entire argument needs to be surrounded by single quotes (e.g. <code class="docutils literal notranslate"><span class="pre">-password</span> <span class="pre">'mypassword!'</span></code>, or the individual characters need to be escaped out (e.g. <code class="docutils literal notranslate"><span class="pre">-password</span> <span class="pre">mypassword\!</span></code>).</p></li>
<li><p>Team name and channel name refer to the handles, not the display names. So in the url <code class="docutils literal notranslate"><span class="pre">https://community.mattermost.com/core/channels/town-square</span></code> team name would be <code class="docutils literal notranslate"><span class="pre">core</span></code> and channel name would be <code class="docutils literal notranslate"><span class="pre">town-square</span></code>.</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you automate user creation through the CLI tool with SMTP enabled, emails will be sent to all new users created. If you run such a load script, it is best to disable SMTP or to use test accounts so that new account creation emails aren’t unintentionally sent to people at your organization who aren’t expecting them.</p>
</div>
<div class="section" id="mattermost">
<h3><a class="toc-backref" href="#contents">mattermost</a><a class="headerlink" href="#mattermost" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Commands for configuring and managing your Mattermost instance and users.</p>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-c, --config {string}   Configuration file to use. (default &quot;config.json&quot;)
--disableconfigwatch {boolean}  When true, the config.json file will not be reloaded automatically when another process changes it (default &quot;false&quot;)
</pre></div>
</div>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-channel">mattermost channel</a> - Management of channels</p></li>
<li><p><a class="reference internal" href="#mattermost-command">mattermost command</a> - Management of slash commands</p></li>
<li><p><a class="reference internal" href="#mattermost-config">mattermost config</a> - Work with the configuration file</p></li>
<li><p><a class="reference internal" href="#mattermost-export">mattermost export</a> - Compliance export commands</p></li>
<li><p><a class="reference internal" href="#mattermost-group">mattermost group</a> - Management of Mattermost groups</p></li>
<li><p><a class="reference internal" href="#mattermost-help">mattermost help</a> - Generate full documentation for the CLI</p></li>
<li><p><a class="reference internal" href="#mattermost-import">mattermost import</a> - Import data</p></li>
<li><p><a class="reference internal" href="#mattermost-jobserver">mattermost jobserver</a> - Start the Mattermost job server</p></li>
<li><p><a class="reference internal" href="#mattermost-ldap">mattermost ldap</a> - AD/LDAP related utilities</p></li>
<li><p><a class="reference internal" href="#mattermost-license">mattermost license</a> - Licensing commands</p></li>
<li><p><a class="reference internal" href="#mattermost-logs">mattermost logs</a> - Display human-readable logs</p></li>
<li><p><a class="reference internal" href="#mattermost-permissions">mattermost permissions</a> - Management of the permissions system</p></li>
<li><p><a class="reference internal" href="#mattermost-plugin">mattermost plugin</a> - Management of plugins</p></li>
<li><p><a class="reference internal" href="#mattermost-reset">mattermost reset</a> - Reset the database to initial state</p></li>
<li><p><a class="reference internal" href="#mattermost-roles">mattermost roles</a> - Management of user roles</p></li>
<li><p><a class="reference internal" href="#mattermost-sampledata">mattermost sampledata</a> - Sample data generation</p></li>
<li><p><a class="reference internal" href="#mattermost-server">mattermost server</a> - Run the Mattermost server</p></li>
<li><p><a class="reference internal" href="#mattermost-team">mattermost team</a> - Management of teams</p></li>
<li><p><a class="reference internal" href="#mattermost-user">mattermost user</a> - Management of users</p></li>
<li><p><a class="reference internal" href="#mattermost-version">mattermost version</a> - Display version information</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook">mattermost webhook</a> - Management of webhooks</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-channel">
<h3><a class="toc-backref" href="#contents">mattermost channel</a><a class="headerlink" href="#mattermost-channel" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands for channel management.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-channel-add">mattermost channel add</a> - Add users to a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-archive">mattermost channel archive</a> - Archive a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-create">mattermost channel create</a> - Create a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-delete">mattermost channel delete</a> - Delete a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-list">mattermost channel list</a> - List all channels on specified teams</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-modify">mattermost channel modify</a> - Modify a channel’s public/private type</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-move">mattermost channel move</a> - Move a channel to another team</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-remove">mattermost channel remove</a> - Remove users from a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-rename">mattermost channel rename</a> - Rename a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-restore">mattermost channel restore</a> - Restore a channel from the archive</p></li>
<li><p><a class="reference internal" href="#mattermost-channel-search">mattermost channel search</a> -  Search a channel by name</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="admonition note" id="channel-value-note">
<p class="admonition-title">Note</p>
<p><strong>{channel} value</strong></p>
<p>For the <em>add</em>, <em>archive</em>, <em>delete</em>, <em>remove</em> and <em>restore</em> commands, you can specfiy the <em>{channels}</em> value by {team}:{channel} using the team and channel URLs, or by using channel IDs. For example, in the following URL the <em>{channels}</em> value is <em>myteam:mychannel</em>:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/myteam/channels/mychannel</span></code></p>
<p>Also, the team and channel names in the URL should be written in lowercase.</p>
</div>
<div class="section" id="mattermost-channel-add">
<h4><a class="toc-backref" href="#contents">mattermost channel add</a><a class="headerlink" href="#mattermost-channel-add" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-add">mmctl channel add</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Add users to a channel. If adding multiple users, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel add {channel} {users}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel add 8soyabwthjnf9qibfztje5a36h user@example.com username
bin/mattermost channel add myteam:mychannel user@example.com username
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-archive">
<h4><a class="toc-backref" href="#contents">mattermost channel archive</a><a class="headerlink" href="#mattermost-channel-archive" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-archive">mmctl channel archive</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Archive a channel. Archived channels are not accessible to users, but remain in the database. To restore a channel from the archive, see <a class="reference internal" href="#mattermost-channel-restore">mattermost channel restore</a>. Channels can be specified by {team}:{channel} using the team and channel names, or by using channel IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel archive {channels}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel archive 8soyabwthjnf9qibfztje5a36h
bin/mattermost channel archive myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-create">
<h4><a class="toc-backref" href="#contents">mattermost channel create</a><a class="headerlink" href="#mattermost-channel-create" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-create">mmctl channel create</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Create a channel.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel create
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel create --team myteam --name mynewchannel --display_name &quot;My New Channel&quot;
bin/mattermost channel create --team myteam --name mynewprivatechannel --display_name &quot;My New Private Channel&quot; --private
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--display_name string   Channel Display Name
--header string         Channel header
--name string           Channel Name
--private               Create a private channel.
--purpose string        Channel purpose
--team string           Team name or ID
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-delete">
<h4><a class="toc-backref" href="#contents">mattermost channel delete</a><a class="headerlink" href="#mattermost-channel-delete" title="Permalink to this headline">¶</a></h4>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Permanently delete a channel along with all related information, including posts from the database. Channels can be specified by {team}:{channel} using the team and channel names, or by using channel IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel delete {channels}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel delete 8soyabwthjnf9qibfztje5a36h
bin/mattermost channel delete myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-list">
<h4><a class="toc-backref" href="#contents">mattermost channel list</a><a class="headerlink" href="#mattermost-channel-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-list">mmctl channel list</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>List all channels on a specified team. Private channels are appended with <code class="docutils literal notranslate"><span class="pre">(private)</span></code> and archived channels are appended with <code class="docutils literal notranslate"><span class="pre">(archived)</span></code>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel list {teams}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel list myteam
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-modify">
<h4><a class="toc-backref" href="#contents">mattermost channel modify</a><a class="headerlink" href="#mattermost-channel-modify" title="Permalink to this headline">¶</a></h4>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Modify a channel’s public/private type.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel modify
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel modify myteam:mychannel --username myusername --private
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--username [REQUIRED] Username of the user who is changing the channel privacy.
--public   Change a private channel to be public.
--private  Change a public channel to be private.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-move">
<h4><a class="toc-backref" href="#contents">mattermost channel move</a><a class="headerlink" href="#mattermost-channel-move" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-move">mmctl channel move</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Move channels to another team. The command validates that all users in the channel belong to the target team. Incoming/Outgoing webhooks are moved along with the channel. Channels can be specified by <code class="docutils literal notranslate"><span class="pre">[team]:[channel]</span></code> or by using channel IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel move
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel move newteam 8soyabwthjnf9qibfztje5a36h --username myusername
bin/mattermost channel move newteam myteam:mychannel --username myusername
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--username [REQUIRED] Username of the user who is moving the team.
--remove-deactivated-users [OPTIONAL] When moving the channel, remove any users who have been deactivated who may be preventing the move.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-remove">
<h4><a class="toc-backref" href="#contents">mattermost channel remove</a><a class="headerlink" href="#mattermost-channel-remove" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-remove">mmctl channel remove</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Remove users from a channel.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel remove {channel} {users}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel remove 8soyabwthjnf9qibfztje5a36h user@example.com username
bin/mattermost channel remove myteam:mychannel user@example.com username
bin/mattermost channel remove myteam:mychannel --all-users
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--all-users string     Remove all users from the channel.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-rename">
<h4><a class="toc-backref" href="#contents">mattermost channel rename</a><a class="headerlink" href="#mattermost-channel-rename" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-rename">mmctl channel rename</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Rename a channel. Channels can be specified by <em>{team}:{channel}</em> using the team and channel names, or by using channel IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel rename {channel} newchannelname --display_name &quot;New Display Name&quot;
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel rename 8soyabwthjnf9qibfztje5a36h newchannelname --display_name &quot;New Display Name&quot;
bin/mattermost channel rename myteam:mychannel newchannelname --display_name &quot;New Display Name&quot;
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--display_name string   Channel Display Name
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-restore">
<h4><a class="toc-backref" href="#contents">mattermost channel restore</a><a class="headerlink" href="#mattermost-channel-restore" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-restore">mmctl channel restore</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Restore a channel from the archive. Channels can be specified by {team}:{channel} using the team and channel names, or by using channel IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel restore {channels}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel restore 8soyabwthjnf9qibfztje5a36h
bin/mattermost channel restore myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-channel-search">
<h4><a class="toc-backref" href="#contents">mattermost channel search</a><a class="headerlink" href="#mattermost-channel-search" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-channel-search">mmctl channel search</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Search for a channel by channel name. Returns channel display name, channel Id, and indicates if it is private or archived. Private channels are appended with <code class="docutils literal notranslate"><span class="pre">(private)</span></code> and archived channels are appended with <code class="docutils literal notranslate"><span class="pre">(archived)</span></code>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost channel search {channelName}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost channel search mychannel
bin/mattermost channel search --team myteam mychannel
bin/mattermost channel search --team f1924a8db44ff3bb41c96424cdc20676 mychannel
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--team   Team Name or Team ID
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-command">
<h3><a class="toc-backref" href="#contents">mattermost command</a><a class="headerlink" href="#mattermost-command" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands for slash command management.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-command-create">mattermost command create</a> - Create a custom slash command for a specified team.</p></li>
<li><p><a class="reference internal" href="#mattermost-command-delete">mattermost command delete</a> - Delete a slash command.</p></li>
<li><p><a class="reference internal" href="#mattermost-command-list">mattermost command list</a> - List all commands on specified teams or all teams by default.</p></li>
<li><p><a class="reference internal" href="#mattermost-command-modify">mattermost command modify</a> - Modify a slash command.</p></li>
<li><p><a class="reference internal" href="#mattermost-command-move">mattermost command move</a> - Move a slash command to a different team.</p></li>
<li><p><a class="reference internal" href="#mattermost-command-show">mattermost command show</a> - Show a custom slash command.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-command-create">
<h4><a class="toc-backref" href="#contents">mattermost command create</a><a class="headerlink" href="#mattermost-command-create" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-command-create">mmctl command create</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Create a custom slash command for a specified team.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost command create
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command create myteam --title MyCommand --description &quot;My Command Description&quot; --trigger-word mycommand --url http://localhost:8000/my-slash-handler --creator myusername --response-username my-bot-username --icon http://localhost:8000/my-slash-handler-bot-icon.png --autocomplete --post
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--title string                     Command Title
--description string               Command Description
--trigger-word string [REQUIRED]   Command Trigger Word
--url  string   [REQUIRED]         Command Callback URL
--creator string  [REQUIRED]       Command Creator&#39;s Username
--response-username string         Command Response Username
--icon string                      Command icon URL
--autocomplete bool                Show command in autocomplete list
--autocompleteDesc string          Short command description for autocomplete list
--autocompleteHint string          Command arguments displayed as help in autocomplete list
--post bool                        Use POST method for callback URL
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-command-delete">
<h4><a class="toc-backref" href="#contents">mattermost command delete</a><a class="headerlink" href="#mattermost-command-delete" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-command-delete">mmctl command delete</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Delete a slash command. Commands can be specified by command ID.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost command delete {commandID}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command delete commandID
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-command-list">
<h4><a class="toc-backref" href="#contents">mattermost command list</a><a class="headerlink" href="#mattermost-command-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-command-list">mmctl command list</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>List all commands on specified teams or all teams by default.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost command list {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command list myteam
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-command-modify">
<h4><a class="toc-backref" href="#contents">mattermost command modify</a><a class="headerlink" href="#mattermost-command-modify" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Modify a slash command. Commands can be specified by command ID.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>Only fields that you want to modify need to be specified.  Also, when modifying the command’s creator, the new creator specified must have the permission to create commands.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost command modify {commandID}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command modify commandID --title MyModifiedCommand --description &quot;My Modified Command Description&quot; --trigger-word mycommand --url http://localhost:8000/my-slash-handler --creator myusername --response-username my-bot-username --icon http://localhost:8000/my-slash-handler-bot-icon.png --autocomplete --post
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--title string                     Command Title
--description string               Command Description
--trigger-word string              Command Trigger Word
--url  string                      Command Callback URL
--creator string                   Command Creator&#39;s Username
--response-username string         Command Response Username
--icon string                      Command Icon URL
--autocomplete bool                Show command in autocomplete list
--autocompleteDesc string          Short command description for autocomplete list
--autocompleteHint string          Command arguments displayed as help in autocomplete list
--post bool                        Use POST method for callback URL, else use GET method
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-command-move">
<h4><a class="toc-backref" href="#contents">mattermost command move</a><a class="headerlink" href="#mattermost-command-move" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Move a slash command to a different team. Commands can be specified by {team}:{command-trigger-word}, or by using command IDs.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost command move
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command move newteam oldteam:command-trigger-word
bin/mattermost command move newteam o8soyabwthjnf9qibfztje5a36h
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-command-show">
<h4><a class="toc-backref" href="#contents">mattermost command show</a><a class="headerlink" href="#mattermost-command-show" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Show a custom slash command. Commands can be specified by command ID. Returns command ID, team ID, trigger word, display name and creator username.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>command show {commandID}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost command show commandID
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-config">
<h3><a class="toc-backref" href="#contents">mattermost config</a><a class="headerlink" href="#mattermost-config" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands for managing the configuration file.</p>
</dd>
<dt>Child Command</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-config-get">mattermost config get</a> - Retrieve the value of a config setting by its name in dot notation.</p></li>
<li><p><a class="reference internal" href="#mattermost-config-migrate">mattermost config migrate</a> - Migrate a file-based configuration to (or from) a database-based configuration.</p></li>
<li><p><a class="reference internal" href="#mattermost-config-reset">mattermost config reset</a> - Resets the value of a config setting by its name in dot notation or a setting section.</p></li>
<li><p><a class="reference internal" href="#mattermost-config-set">mattermost config set</a> - Set the value of a config setting by its name in dot notation.</p></li>
<li><p><a class="reference internal" href="#mattermost-config-show">mattermost config show</a> - Print the current mattermost configuration in an easy to read format.</p></li>
<li><p><a class="reference internal" href="#mattermost-config-validate">mattermost config validate</a> - Validate the configuration file.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-config-get">
<h4><a class="toc-backref" href="#contents">mattermost config get</a><a class="headerlink" href="#mattermost-config-get" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-config-get">mmctl config get</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><blockquote>
<div><p>Retrieve the value of a config setting by its name in dot notation.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config get {config.name}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config get SqlSettings.DriverName
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--path string  Optional subpath; defaults to value in Site URL.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-config-migrate">
<h4><a class="toc-backref" href="#contents">mattermost config migrate</a><a class="headerlink" href="#mattermost-config-migrate" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Migrate a file-based configuration to (or from) a database-based configuration. Point the Mattermost server at the target configuration to start using it. If using SAML, ensure the SAML certificates and keys are accessible to also migrate into the database.</p>
</dd>
</dl>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<blockquote>
<div><p>If a <code class="docutils literal notranslate"><span class="pre">from</span></code> parameter is not specified, the command will fall back to what is specified in –config.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config migrate {config to read} {config to write}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config migrate  path/to/config.json &quot;postgres://mmuser:mostest@dockerhost:5432/mattermost_test?sslmode=disable&amp;connect_timeout=10&quot;
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-config-reset">
<h4><a class="toc-backref" href="#contents">mattermost config reset</a><a class="headerlink" href="#mattermost-config-reset" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Resets the value of a config setting by its name in dot notation or a setting section to the default value. Accepts multiple values for array settings. When no parameters are given, it will reset all config settings.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config reset {config.name} {setting section}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config reset SqlSettings.DriverName LogSettings
</pre></div>
</div>
</div></blockquote>
<dl>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm  Confirm you really want to reset the config setting and a backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-config-set">
<h4><a class="toc-backref" href="#contents">mattermost config set</a><a class="headerlink" href="#mattermost-config-set" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><blockquote>
<div><dl>
<dt>Description</dt><dd><p>Set the value of a config setting by its name in dot notation. Accepts multiple values for array settings.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config set {config.name} {setting new value}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config set SqlSettings.DriverName mysql
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<dl>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--path string  Optional subpath; defaults to value in Site URL.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-config-show">
<h4><a class="toc-backref" href="#contents">mattermost config show</a><a class="headerlink" href="#mattermost-config-show" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-config-show">mmctl config</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Print the current mattermost configuration in an easy to read format.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config show
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config show
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-config-validate">
<h4><a class="toc-backref" href="#contents">mattermost config validate</a><a class="headerlink" href="#mattermost-config-validate" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Makes sure the configuration file has the following properties:</p>
<ul class="simple">
<li><p>Is valid JSON.</p></li>
<li><p>Has attributes of the correct type, such as <em>bool</em>, <em>int</em>, and <em>str</em>.</p></li>
<li><p>All entries are valid. For example, checks that entries are below the maximum length.</p></li>
</ul>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost config validate
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost config validate
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-db-init">
<h3><a class="toc-backref" href="#contents">mattermost db init</a><a class="headerlink" href="#mattermost-db-init" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Initializes the database for a given data source name (DSN), executes migrations, and loads custom defaults when specified.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost db init
</pre></div>
</div>
</dd>
</dl>
<p>Examples</p>
<blockquote>
<div><p>Use the <code class="docutils literal notranslate"><span class="pre">config</span></code> flag to pass the DSN:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost db init --config postgres://localhost/mattermost
</pre></div>
</div>
<p>Run this command to use the <code class="docutils literal notranslate"><span class="pre">MM_CONFIG</span></code> environment variable:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MM_CONFIG=postgres://localhost/mattermost mattermost db init
</pre></div>
</div>
<p>Run this command to set a custom defaults file to be loaded into the database:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MM_CUSTOM_DEFAULTS_PATH=custom.json MM_CONFIG=postgres://localhost/mattermost mattermost db init
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="mattermost-export">
<h3><a class="toc-backref" href="#contents">mattermost export</a><a class="headerlink" href="#mattermost-export" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands for exporting data for compliance and for merging multiple Mattermost instances.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-export-actiance">mattermost export actiance</a> - Export data from Mattermost in Actiance XML format.  Requires an E20 license</p></li>
<li><p><a class="reference internal" href="#mattermost-export-bulk">mattermost export bulk</a> - Export data to a file compatible with the Mattermost <a class="reference external" href="https://docs.mattermost.com/deployment/bulk-loading.html">Bulk Import format</a></p></li>
<li><p><a class="reference internal" href="#mattermost-export-csv">mattermost export csv</a> - Export data from Mattermost in CSV format. Requires an E20 license</p></li>
<li><p><a class="reference internal" href="#mattermost-export-global-relay-zip">mattermost export global-relay-zip</a> - Export data from Mattermost into a zip file containing emails to send to Global Relay for debug and testing purposes only. Requires an E20 license</p></li>
<li><p><a class="reference internal" href="#mattermost-export-schedule">mattermost export schedule</a> - Schedule an export job</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-export-actiance">
<h4><a class="toc-backref" href="#contents">mattermost export actiance</a><a class="headerlink" href="#mattermost-export-actiance" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Export data from Mattermost in Actiance XML format.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost export actiance
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost export actiance --exportFrom=1513102632
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--exportFrom string     Unix timestamp (milliseconds since epoch, UTC) to export data from.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-export-bulk">
<h4><a class="toc-backref" href="#contents">mattermost export bulk</a><a class="headerlink" href="#mattermost-export-bulk" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Export data to a file compatible with the Mattermost <a class="reference external" href="https://docs.mattermost.com/deployment/bulk-loading.html">Bulk Import format</a>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost export bulk
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost export bulk file.json --all-teams
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--all-teams bool [REQUIRED]  Export all teams from the server.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-export-csv">
<h4><a class="toc-backref" href="#contents">mattermost export csv</a><a class="headerlink" href="#mattermost-export-csv" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Export data from Mattermost in CSV format.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost export csv
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost export csv --exportFrom=1513102632
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--exportFrom string     Unix timestamp (seconds since epoch, UTC) to export data from.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-export-global-relay-zip">
<h4><a class="toc-backref" href="#contents">mattermost export global-relay-zip</a><a class="headerlink" href="#mattermost-export-global-relay-zip" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Export data from Mattermost into a zip file containing emails to send to Global Relay for debug and testing purposes only. This does not archive any information in Global Relay.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost export global-relay-zip
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost export global-relay-zip --exportFrom=1513102632
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--exportFrom string     Unix timestamp (seconds since epoch, UTC) to export data from.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-export-schedule">
<h4><a class="toc-backref" href="#contents">mattermost export schedule</a><a class="headerlink" href="#mattermost-export-schedule" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Schedule an export job in a format suitable for importing into a third-party archive system.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost export schedule
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost export schedule --format=actiance --exportFrom=1513102632
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--format string         Output file format. Currently, only ``actiance`` is supported.
--exportFrom string     Unix timestamp (seconds since epoch, UTC) to export data from.
--timeoutSeconds string Set how long the export should run for before timing out.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-extract-documents-content">
<h3><a class="toc-backref" href="#contents">mattermost extract-documents-content</a><a class="headerlink" href="#mattermost-extract-documents-content" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Extracts and indexes the contents of files shared prior to upgrading to Mattermost Server 5.35. Running this extraction command is strongly recommended since search results for past file contents may be incomplete. If this command is not run, users can search older files based on file name only.</p>
<p>Running this command adds load to your server. For large deployments, or teams that share many large, text-heavy documents, we recommended you review our <a class="reference external" href="https://docs.mattermost.com/install/requirements.html#hardware-requirements">hardware requirements</a>, and test <a class="reference external" href="https://docs.mattermost.com/administration/config-settings.html#enable-document-search-by-content">enabling this feature</a> in a staging environment before enabling it in a production environment.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost extract-documents-content
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>extract-documents-content --from=12345
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--from    Optional. Unix timestamp (seconds since epoch, UTC) of the earliest file to extract. (default 0)
--to      Optional. Unix timestamp (seconds since epoch, UTC) of the latest file to extract. (default now)
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-group">
<h3><a class="toc-backref" href="#contents">mattermost group</a><a class="headerlink" href="#mattermost-group" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands for managing Mattermost groups.  For more information on Mattermost groups please see <a class="reference external" href="https://docs.mattermost.com/deployment/ldap-group-sync.html">this documentation.</a></p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-group-channel">mattermost group channel</a> - Management of Mattermost groups linked to channels</p></li>
<li><p><a class="reference internal" href="#mattermost-group-team">mattermost group team</a> - Management of Mattermost groups linked to teams</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-group-channel">
<h3><a class="toc-backref" href="#contents">mattermost group channel</a><a class="headerlink" href="#mattermost-group-channel" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-channel">mmctl group channel</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Commands for managing Mattermost groups linked to a channel.</p>
</div></blockquote>
<dl class="simple">
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-group-channel-enable">mattermost group channel enable</a> - Enables group constraint on the specified channel</p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-disable">mattermost group channel disable</a> - Disables group constraint on the specified channel</p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-list">mattermost group channel list</a> - Lists the groups associated with a channel</p></li>
<li><p><a class="reference internal" href="#mattermost-group-channel-status">mattermost group channel status</a> - Shows the group constraint status of the specified channel</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<div class="section" id="mattermost-group-channel-enable">
<h4><a class="toc-backref" href="#contents">mattermost group channel enable</a><a class="headerlink" href="#mattermost-group-channel-enable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-channel-enable">mmctl group channel enable</a>.</p>
</div>
<dl class="simple">
<dt>Description</dt><dd><p>Enables group constraint on the specified channel. When a channel is group constrained, channel membership is managed by linked groups instead of managed by manually adding and removing users.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable a group constraint on a specific channel, you must already have at least one group associated. See <a class="reference external" href="https://docs.mattermost.com/deployment/ldap-group-sync.html#add-default-teams-or-channels-for-the-group">AD/LDAP Group documentation</a> for more details on how to associate a group to a channel.</p>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group channel enable {team}:{channel}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group channel enable myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-group-channel-disable">
<h4><a class="toc-backref" href="#contents">mattermost group channel disable</a><a class="headerlink" href="#mattermost-group-channel-disable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-channel-disable">mmctl group channel disable</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Disables group constraint on the specified channel.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group channel disable {team}:{channel}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group channel disable myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-group-channel-list">
<h4><a class="toc-backref" href="#contents">mattermost group channel list</a><a class="headerlink" href="#mattermost-group-channel-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-channel-list">mmctl group channel list</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Lists the groups associated with a channel.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group channel list {team}:{channel}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group channel list myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-group-channel-status">
<h4><a class="toc-backref" href="#contents">mattermost group channel status</a><a class="headerlink" href="#mattermost-group-channel-status" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-channel-status">mmctl group channel status</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Shows the group constraint status of the specified channel. Returns “Enabled” when channel membership is managed by linked groups.  Returns “Disabled” when the channel membership is managed by manually adding and removing users.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group channel status {team}:{channel}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group channel status myteam:mychannel
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-group-team">
<h3><a class="toc-backref" href="#contents">mattermost group team</a><a class="headerlink" href="#mattermost-group-team" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-team">mmctl group team</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Commands for managing Mattermost groups linked to a team.</p>
</div></blockquote>
<dl class="simple">
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-group-team-enable">mattermost group team enable</a> - Enables group constraint on the specified team</p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-disable">mattermost group team disable</a> - Disables group constraint on the specified team</p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-list">mattermost group team list</a> - Lists the groups associated with a team</p></li>
<li><p><a class="reference internal" href="#mattermost-group-team-status">mattermost group team status</a> - Shows the group constraint status of the specified team</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<div class="section" id="mattermost-group-team-enable">
<h4><a class="toc-backref" href="#contents">mattermost group team enable</a><a class="headerlink" href="#mattermost-group-team-enable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-team-enable">mmctl group team enable</a>.</p>
</div>
<dl class="simple">
<dt>Description</dt><dd><p>Enables group constraint on the specified team. When a team is group constrained, team membership is managed by linked groups instead of managed by manually inviting and removing users.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To enable a group constraint on a specific team, you must already have at least one group associated. See <a class="reference external" href="https://docs.mattermost.com/deployment/ldap-group-sync.html#add-default-teams-or-channels-for-the-group">AD/LDAP Group documentation</a> for more details on how to associate a group to a team.</p>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group team enable {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group team enable myteam
</pre></div>
</div>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-group-team-disable">
<h4><a class="toc-backref" href="#contents">mattermost group team disable</a><a class="headerlink" href="#mattermost-group-team-disable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-team-disable">mmctl group team disable</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Disables group constraint on the specified team.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group team disable {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group team disable myteam
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-group-team-list">
<h4><a class="toc-backref" href="#contents">mattermost group team list</a><a class="headerlink" href="#mattermost-group-team-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-team-list">mmctl group team list</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Lists the groups associated with a team.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group team list {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group team list myteam
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-group-team-status">
<h4><a class="toc-backref" href="#contents">mattermost group team status</a><a class="headerlink" href="#mattermost-group-team-status" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-group-team-status">mmctl group team status</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Shows the group constraint status of the specified team. Returns “Enabled” when team membership is managed by linked groups.  Returns “Disabled” when the team membership is managed by manually inviting and removing users.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost group team status {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost group team status myteam
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-help">
<h3><a class="toc-backref" href="#contents">mattermost help</a><a class="headerlink" href="#mattermost-help" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Generate full documentation in Markdown format for the Mattermost command line tools.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost help {outputdir}
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-import">
<h3><a class="toc-backref" href="#contents">mattermost import</a><a class="headerlink" href="#mattermost-import" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Import data into Mattermost.</p>
</dd>
<dt>Child Command</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-import-bulk">mattermost import bulk</a> - Import a Mattermost Bulk Import File.</p></li>
<li><p><a class="reference internal" href="#mattermost-import-slack">mattermost import slack</a> - Import a team from Slack.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-import-bulk">
<h4><a class="toc-backref" href="#contents">mattermost import bulk</a><a class="headerlink" href="#mattermost-import-bulk" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Import data from a Mattermost Bulk Import File.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost import bulk {file}
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--apply         Save the import data to the database. Use with caution - this cannot be reverted.
--validate      Validate the import data without making any changes to the system.
--workers int   How many workers to run whilst doing the import. (default 2)
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost import bulk bulk-file.jsonl
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-import-slack">
<h4><a class="toc-backref" href="#contents">mattermost import slack</a><a class="headerlink" href="#mattermost-import-slack" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Import a team from a Slack export zip file.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost import slack {team} {file}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost import slack myteam slack_export.zip
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-integrity">
<h3><a class="toc-backref" href="#contents">mattermost integrity</a><a class="headerlink" href="#mattermost-integrity" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Check database schema integrity as well as referential integrity of channels, slash commands, webhooks, posts, schemes, sessions, users, and teams. This process may temporarily affect live system performance, and should be used during off-peak periods.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost integrity
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost integrity --confirm --verbose
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Optional. Skip the confirmation message which indicates that the complete integrity check may temporarily harm system performance. This is not recommended in production environments.
--verbose   Outputs a detailed report of number and type of orphaned records including ids (if any).
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-jobserver">
<span id="command-line-tools-mattermost-jobserver"></span><h3><a class="toc-backref" href="#contents">mattermost jobserver</a><a class="headerlink" href="#mattermost-jobserver" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Start the Mattermost job server.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost jobserver
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost jobserver
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-ldap">
<h3><a class="toc-backref" href="#contents">mattermost ldap</a><a class="headerlink" href="#mattermost-ldap" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to configure and synchronize AD/LDAP.</p>
</dd>
<dt>Child Command</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-ldap-idmigrate">mattermost ldap idmigrate</a> - Migrate the LDAP Id Attribute to a new value</p></li>
<li><p><a class="reference internal" href="#mattermost-ldap-sync">mattermost ldap sync</a> - Synchronize now</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-ldap-idmigrate">
<h4><a class="toc-backref" href="#contents">mattermost ldap idmigrate</a><a class="headerlink" href="#mattermost-ldap-idmigrate" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Migrate LDAP Id Attribute to new value.</p>
<p>Run this utility to change the value of your ID Attribute without your users losing their accounts. After running the command you can change the ID Attribute to the new value in your <code class="docutils literal notranslate"><span class="pre">config.json</span></code>. For example, if your current ID Attribute was <code class="docutils literal notranslate"><span class="pre">sAMAccountName</span></code> and you wanted to change it to <code class="docutils literal notranslate"><span class="pre">objectGUID</span></code>, you would:</p>
<ol class="arabic simple">
<li><p>Wait for an off-peak time when your users won’t be impacted by a server restart.</p></li>
<li><p>Run the command <code class="docutils literal notranslate"><span class="pre">mattermost</span> <span class="pre">ldap</span> <span class="pre">idmigrate</span> <span class="pre">objectGUID</span></code>.</p></li>
<li><p>Edit your <code class="docutils literal notranslate"><span class="pre">config.json</span></code> and change your <code class="docutils literal notranslate"><span class="pre">IdAttribute</span></code> field to the new value <code class="docutils literal notranslate"><span class="pre">objectGUID</span></code>.</p></li>
<li><p>Restart the Mattermost server.</p></li>
</ol>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost ldap idmigrate {attribute}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost ldap idmigrate objectGUID
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-ldap-sync">
<h4><a class="toc-backref" href="#contents">mattermost ldap sync</a><a class="headerlink" href="#mattermost-ldap-sync" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-ldap-sync">mmctl ldap sync</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Synchronize all AD/LDAP users now.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost ldap sync
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost ldap sync
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-license">
<h3><a class="toc-backref" href="#contents">mattermost license</a><a class="headerlink" href="#mattermost-license" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage licensing.</p>
</dd>
<dt>Child Command</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-license-upload">mattermost license upload</a> - Upload a license.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-license-upload">
<h4><a class="toc-backref" href="#contents">mattermost license upload</a><a class="headerlink" href="#mattermost-license-upload" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-license-upload">mmctl license upload</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Upload a license. This command replaces the current license if one is already uploaded.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost license upload {license}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost license upload /path/to/license/mylicensefile.mattermost-license
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Mattermost server needs to be restarted after uploading a license file for any changes to take effect. Also, for cluster setups the license file needs to be uploaded to every node.</p>
</div>
</div>
</div>
<div class="section" id="mattermost-logs">
<h3><a class="toc-backref" href="#contents">mattermost logs</a><a class="headerlink" href="#mattermost-logs" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-logs">mmctl logs</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Displays Mattermost logs in a human-readable format.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost logs
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost logs --logrus
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--logrus   Displays Mattermost logs in `logrus format &lt;https://github.com/sirupsen/logrus&gt;`_. Else, standard output is returned.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-permissions">
<h3><a class="toc-backref" href="#contents">mattermost permissions</a><a class="headerlink" href="#mattermost-permissions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage advanced permissions.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-permissions-export">mattermost permissions export</a> - Export Schemes and Roles.</p></li>
<li><p><a class="reference internal" href="#mattermost-permissions-import">mattermost permissions import</a> - Import Schemes and Roles from a permissions export.</p></li>
<li><p><a class="reference internal" href="#mattermost-permissions-reset">mattermost permissions reset</a> - Reset the permissions system to its default state on new installs.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-permissions-export">
<h4><a class="toc-backref" href="#contents">mattermost permissions export</a><a class="headerlink" href="#mattermost-permissions-export" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Prints to stdout a jsonl representation of Schemes and Roles from a Mattermost instance. Used to export
Roles and Schemes from one Mattermost instance to another. The output is a jsonl representation with
each line containing a json representation of a Scheme and its associated Roles. The output is intended
to be used as the input of <cite>mattermost permissions import</cite>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost permissions export
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost permissions export &gt; my-permissions-export.jsonl
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-permissions-import">
<h4><a class="toc-backref" href="#contents">mattermost permissions import</a><a class="headerlink" href="#mattermost-permissions-import" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Creates Roles and Schemes on a Mattermost instance from a jsonl input file in the format outputted by
<cite>mattermost permissions export</cite>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost permissions import {file}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost permissions import my-permissions-export.jsonl
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-permissions-reset">
<h4><a class="toc-backref" href="#contents">mattermost permissions reset</a><a class="headerlink" href="#mattermost-permissions-reset" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Reset permissions for all users, including Admins, to their default state on new installs. Note: <strong>this will delete
all custom schemes</strong>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost permissions reset
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost permissions reset
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Confirm you really want to reset the permissions system and a DB backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-plugin">
<h3><a class="toc-backref" href="#contents">mattermost plugin</a><a class="headerlink" href="#mattermost-plugin" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage plugins.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-plugin-add">mattermost plugin add</a> - Add plugins to your Mattermost server.</p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-delete">mattermost plugin delete</a> - Delete previously uploaded plugins.</p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-disable">mattermost plugin disable</a> - Disable plugins.</p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-enable">mattermost plugin enable</a> - Enable plugins for use.</p></li>
<li><p><a class="reference internal" href="#mattermost-plugin-list">mattermost plugin list</a> - List plugins installed on your Mattermost server.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-plugin-add">
<h4><a class="toc-backref" href="#contents">mattermost plugin add</a><a class="headerlink" href="#mattermost-plugin-add" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-plugin-add">mmctl plugin add</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Add plugins to your Mattermost server. If adding multiple plugins, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost plugin add {plugin tar file}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost plugin add hovercardexample.tar.gz pluginexample.tar.gz
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-plugin-delete">
<h4><a class="toc-backref" href="#contents">mattermost plugin delete</a><a class="headerlink" href="#mattermost-plugin-delete" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-plugin-delete">mmctl plugin delete</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Delete previously uploaded plugins from your Mattermost server. If deleting multiple plugins, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost plugin delete {plugin_id}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost plugin delete hovercardexample pluginexample
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-plugin-disable">
<h4><a class="toc-backref" href="#contents">mattermost plugin disable</a><a class="headerlink" href="#mattermost-plugin-disable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-plugin-disable">mmctl plugin disable</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Disable plugins. Disabled plugins are immediately removed from the user interface and logged out of all sessions. If disabling multiple plugins, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost plugin disable {plugin_id}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost plugin disable hovercardexample pluginexample
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-plugin-enable">
<h4><a class="toc-backref" href="#contents">mattermost plugin enable</a><a class="headerlink" href="#mattermost-plugin-enable" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-plugin-enable">mmctl plugin enable</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Enable plugins for use on your Mattermost server. If enabling multiple plugins, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost plugin enable {plugin_id}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost plugin enable hovercardexample pluginexample
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-plugin-list">
<h4><a class="toc-backref" href="#contents">mattermost plugin list</a><a class="headerlink" href="#mattermost-plugin-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-plugin-list">mmctl plugin list</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>List all active and inactive plugins installed on your Mattermost server.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost plugin list
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost plugin list
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-reset">
<h3><a class="toc-backref" href="#contents">mattermost reset</a><a class="headerlink" href="#mattermost-reset" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Completely erase the database causing the loss of all data. This resets Mattermost to its initial state.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost reset
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Confirm you really want to delete everything and a DB backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-roles">
<h3><a class="toc-backref" href="#contents">mattermost roles</a><a class="headerlink" href="#mattermost-roles" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage user roles.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-roles-member">mattermost roles member</a> - Remove System Admin privileges from a user</p></li>
<li><p><a class="reference internal" href="#mattermost-roles-system-admin">mattermost roles system_admin</a> - Make a user into a System Admin</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-roles-member">
<h4><a class="toc-backref" href="#contents">mattermost roles member</a><a class="headerlink" href="#mattermost-roles-member" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Remove system admin privileges from a user.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost roles member {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost roles member user1
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-roles-system-admin">
<h4><a class="toc-backref" href="#contents">mattermost roles system_admin</a><a class="headerlink" href="#mattermost-roles-system-admin" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Promote a user to a System Admin.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost roles system_admin {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost roles system_admin user1
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-sampledata">
<h3><a class="toc-backref" href="#contents">mattermost sampledata</a><a class="headerlink" href="#mattermost-sampledata" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 4.7: </span>Generate sample data and populate the Mattermost database. Supported in Mattermost v4.7 and later.</p>
<p>The command generates one user as the System Administrator with a username <code class="docutils literal notranslate"><span class="pre">sysadmin</span></code> and password <code class="docutils literal notranslate"><span class="pre">Sys&#64;dmin-sample1</span></code>. Other users are generated following an index, e.g. with username <code class="docutils literal notranslate"><span class="pre">user-1</span></code> and password <code class="docutils literal notranslate"><span class="pre">SampleUs&#64;r-1</span></code>.</p>
</div>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost sampledata
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost sampledata --seed 10 --teams 4 --users 30
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-u, --users int                      The number of sample users. (default 15)
    --profile-images string          Optional. Path to folder with images to randomly pick as user profile image.
-t, --teams int                      The number of sample teams. (default 2)
    --team-memberships int           The number of sample team memberships per user. (default 2)
    --channels-per-team int          The number of sample channels per team. (default 10)
    --channel-memberships int        The number of sample channel memberships per user in a team. (default 5)
    --posts-per-channel int          The number of sample post per channel. (default 100)
    --direct-channels int            The number of sample direct message channels. (default 30)
    --group-channels int             The number of sample group message channels. (default 15)
    --posts-per-direct-channel int   The number of sample posts per direct message channel. (default 15)
    --posts-per-group-channel int    The number of sample post per group message channel. (default 30)
-s, --seed int                       Seed used for generating the random data (Different seeds generate different data). (default 1)
-b, --bulk string                    Optional. Path to write a JSONL bulk file instead of loading into the database.
-w, --workers int                    How many workers to run during the import. (default 2)
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-server">
<h3><a class="toc-backref" href="#contents">mattermost server</a><a class="headerlink" href="#mattermost-server" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Runs the Mattermost server.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost server
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-team">
<h3><a class="toc-backref" href="#contents">mattermost team</a><a class="headerlink" href="#mattermost-team" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage teams.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-team-add">mattermost team add</a> - Add users to a team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-archive">mattermost team archive</a> - Archive teams based on name.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-create">mattermost team create</a> - Create a team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-delete">mattermost team delete</a> - Delete a team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-list">mattermost team list</a> - List all teams.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-modify">mattermost team modify</a> - Modify a team’s public/private type.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-remove">mattermost team remove</a> - Remove users from a team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-rename">mattermost team rename</a> - Rename a team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-restore">mattermost team restore</a> - Restore a previously archived team.</p></li>
<li><p><a class="reference internal" href="#mattermost-team-search">mattermost team search</a> - Search for teams based on name.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="admonition note" id="team-value-note">
<p class="admonition-title">Note</p>
<p><strong>{team-name} value</strong></p>
<p>For the <em>add</em>, <em>delete</em>, and <em>remove</em> commands, you can determine the <em>{team-name}</em> value from the URLs that you use to access your instance of Mattermost. For example, in the following URL the <em>{team-name}</em> value is <em>myteam</em>:</p>
<p><code class="docutils literal notranslate"><span class="pre">https://example.com/myteam/channels/mychannel</span></code></p>
<p>Also, the team and channel names in the URL should be written in lowercase.</p>
</div>
<div class="section" id="mattermost-team-add">
<h4><a class="toc-backref" href="#contents">mattermost team add</a><a class="headerlink" href="#mattermost-team-add" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-add">mmctl team add</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Add users to a team. Before running this command, see the <a class="reference internal" href="#team-value-note"><span class="std std-ref">note about {team-name}</span></a>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team add {team-name} {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team add myteam user@example.com username
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-archive">
<h4><a class="toc-backref" href="#contents">mattermost team archive</a><a class="headerlink" href="#mattermost-team-archive" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-archive">mmctl team archive</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Archive teams based on name. Before running this command, see the <a class="reference internal" href="#team-value-note"><span class="std std-ref">note about {team-name}</span></a>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team archive {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team archive team1
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-create">
<h4><a class="toc-backref" href="#contents">mattermost team create</a><a class="headerlink" href="#mattermost-team-create" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-create">mmctl team create</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Create a team.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team create
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team create --name mynewteam --display_name &quot;My New Team&quot;
bin/mattermost teams create --name private --display_name &quot;My New Private Team&quot; --private
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--display_name string   Team Display Name
--email string          Administrator Email (anyone with this email is automatically a team admin)
--name string           Team Name
--private               Create a private team.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-delete">
<h4><a class="toc-backref" href="#contents">mattermost team delete</a><a class="headerlink" href="#mattermost-team-delete" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-delete">mmctl team delete</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Permanently delete a team along with all related information, including posts from the database. Before running this command, see the <a class="reference internal" href="#team-value-note"><span class="std std-ref">note about {team-name}</span></a>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team delete {team-name}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team delete myteam
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Confirm you really want to delete the team and a DB backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-list">
<h4><a class="toc-backref" href="#contents">mattermost team list</a><a class="headerlink" href="#mattermost-team-list" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-list">mmctl team list</a>.</p>
</div>
<p><em>Supported in Mattermost v4.10 and later</em></p>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>List all teams on the server.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team list
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team list
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-team-modify">
<h4><a class="toc-backref" href="#contents">mattermost team modify</a><a class="headerlink" href="#mattermost-team-modify" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Modify a team’s public/private type.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team modify [team] [flag]
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team myteam --private
bin/mattermost team myteam --public
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-team-remove">
<h4><a class="toc-backref" href="#contents">mattermost team remove</a><a class="headerlink" href="#mattermost-team-remove" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-remove">mmctl team remove</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Remove users from a team. Before running this command, see the <a class="reference internal" href="#team-value-note"><span class="std std-ref">note about {team-name}</span></a>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team remove {team-name} {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team remove myteam user@example.com username
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-rename">
<h4><a class="toc-backref" href="#contents">mattermost team rename</a><a class="headerlink" href="#mattermost-team-rename" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-rename">mmctl team rename</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Rename a team.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team rename {team} newteamname --display_name &quot;New Display Name&quot;
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team rename myteam newteamname --display_name &quot;New Display Name&quot;
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--display_name string   Team Display Name
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-team-restore">
<h4><a class="toc-backref" href="#contents">mattermost team restore</a><a class="headerlink" href="#mattermost-team-restore" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Restore a previously archived team.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team restore {team}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team restore myteam
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-team-search">
<h4><a class="toc-backref" href="#contents">mattermost team search</a><a class="headerlink" href="#mattermost-team-search" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-team-search">mmctl team search</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Search for teams based on name. Before running this command, see the <a class="reference internal" href="#team-value-note"><span class="std std-ref">note about {team-name}</span></a>.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost team search {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost team search team1
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
</div>
<div class="section" id="mattermost-user">
<h3><a class="toc-backref" href="#contents">mattermost user</a><a class="headerlink" href="#mattermost-user" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage users.</p>
</dd>
</dl>
<p>Child Commands</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-user-activate">mattermost user activate</a> - Activate a user</p></li>
<li><p><a class="reference internal" href="#mattermost-user-convert">mattermost user convert</a> - Convert a user to a bot, or a bot to a user</p></li>
<li><p><a class="reference internal" href="#mattermost-user-create">mattermost user create</a> - Create a user</p></li>
<li><p><a class="reference internal" href="#mattermost-user-deactivate">mattermost user deactivate</a> - Deactivate a user</p></li>
<li><p><a class="reference internal" href="#mattermost-user-delete">mattermost user delete</a> - Delete a user and all posts</p></li>
<li><p><a class="reference internal" href="#mattermost-user-deleteall">mattermost user deleteall</a> - Delete all users and all posts</p></li>
<li><p><a class="reference internal" href="#mattermost-user-email">mattermost user email</a> - Set a user’s email</p></li>
<li><p><a class="reference internal" href="#mattermost-user-invite">mattermost user invite</a> - Send a user an email invitation to a team</p></li>
<li><p><a class="reference internal" href="#mattermost-user-migrate-auth">mattermost user migrate_auth</a> - Mass migrate all user accounts to a new authentication type</p></li>
<li><p><a class="reference internal" href="#mattermost-user-password">mattermost user password</a> - Set a user’s password</p></li>
<li><p><a class="reference internal" href="#mattermost-user-resetmfa">mattermost user resetmfa</a> - Turn off MFA for a user</p></li>
<li><p><a class="reference internal" href="#mattermost-user-search">mattermost user search</a> - Search for users based on username, email, or user ID</p></li>
<li><p><a class="reference internal" href="#mattermost-user-verify">mattermost user verify</a> - Verify email address of a new user</p></li>
</ul>
</div></blockquote>
</div></blockquote>
<hr class="docutils" />
<div class="section" id="mattermost-user-activate">
<h4><a class="toc-backref" href="#contents">mattermost user activate</a><a class="headerlink" href="#mattermost-user-activate" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-activate">mmctl user activate</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Activate users that have been deactivated. If activating multiple users, use a space-separated list.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user activate {emails, usernames, userIds}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user activate user@example.com
bin/mattermost user activate username1 username2
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-convert">
<h4><a class="toc-backref" href="#contents">mattermost user convert</a><a class="headerlink" href="#mattermost-user-convert" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Convert a user to a bot, or convert a bot to a user account.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user convert {emails, usernames, userIds} --bot
OR
mattermost user convert {bot_id} --user --email {email_address} --password {new_password}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user convert user@example.com --bot
bin/mattermost user convert username1 username2 --bot
bin/mattermost user convert old_bot --user --email real_user@example.com --password Password1
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--bot string       Convert user to bot.  Supports converting multiple bots at once, use a space-separated list.
--user string      Convert bot to user.  Supports converting 1 account per command. The converted user will have the role of `system_user` set.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-user-create">
<h4><a class="toc-backref" href="#contents">mattermost user create</a><a class="headerlink" href="#mattermost-user-create" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-create">mmctl user create</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Create a user.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user create
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user create --email user@example.com --username userexample --password Password1
bin/mattermost user create --firstname Joe --system_admin --email joe@example.com --username joe --password Password1
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--email string       Email
--firstname string   First Name
--lastname string    Last Name
--locale string      Locale (ex: en, fr)
--nickname string    Nickname
--password string    Password
--system_admin       Make the user a system administrator
--username string    Username
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-deactivate">
<h4><a class="toc-backref" href="#contents">mattermost user deactivate</a><a class="headerlink" href="#mattermost-user-deactivate" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-deactivate">mmctl user deactivate</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Deactivate a user. Deactivated users are immediately logged out of all sessions and are unable to log back in.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user deactivate {emails, usernames, userIds}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user deactivate user@example.com
bin/mattermost user deactivate username
</pre></div>
</div>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Users deactivated via this CLI command can continue to use Mattermost, if they are already logged in, until the user cache is manually purged or automatically after 30 minutes. Users who are deactivated when they’re not logged in will not be able to log in to Mattermost again.</p>
<p>If you want to immediately terminate a deactivated user’s session, purge all caches in <strong>System Console &gt; Web Server &gt; Purge All Caches</strong> after running this command.</p>
<p>You can also use the <a class="reference external" href="https://api.mattermost.com/#tag/users%2Fpaths%2F~1users~1%7Buser_id%7D%2Fdelete">API command</a> to deactivate a user account and immediately terminate the session.</p>
</div>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-delete">
<h4><a class="toc-backref" href="#contents">mattermost user delete</a><a class="headerlink" href="#mattermost-user-delete" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Permanently delete a user and all related information, including posts from the database.</p>
<p>Does not delete content from the file storage. You can manually delete all file uploads for a given user as uploads contain the <code class="docutils literal notranslate"><span class="pre">CreatorId</span></code> field. User avatars are stored in <code class="docutils literal notranslate"><span class="pre">data/users/&lt;userid&gt;/profile.png</span></code>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user delete {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user delete user@example.com
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Confirm you really want to delete the user and a DB backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-user-deleteall">
<h4><a class="toc-backref" href="#contents">mattermost user deleteall</a><a class="headerlink" href="#mattermost-user-deleteall" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Permanently delete all users and all related information, including posts.</p>
<p>Does not delete content from the file storage. You can manually delete all file uploads and avatars. All uploads contain the <code class="docutils literal notranslate"><span class="pre">CreatorId</span></code> field and user avatars are stored in <code class="docutils literal notranslate"><span class="pre">data/users/&lt;userid&gt;/profile.png</span></code>.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user deleteall
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user deleteall
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--confirm   Confirm you really want to delete the user and a DB backup has been performed.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-user-email">
<h4><a class="toc-backref" href="#contents">mattermost user email</a><a class="headerlink" href="#mattermost-user-email" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-email">mmctl user email</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Set a user’s email.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user email {user} {new email}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user email user@example.com newuser@example.com
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-invite">
<h4><a class="toc-backref" href="#contents">mattermost user invite</a><a class="headerlink" href="#mattermost-user-invite" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-invite">mmctl user invite</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Send a user an email invite to a team. You can invite a user to multiple teams by listing the team names or team IDs.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user invite {email} {teams}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user invite user@example.com myteam
bin/mattermost user invite user@example.com myteam1 myteam2
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-migrate-auth">
<h4><a class="toc-backref" href="#contents">mattermost user migrate_auth</a><a class="headerlink" href="#mattermost-user-migrate-auth" title="Permalink to this headline">¶</a></h4>
<blockquote id="cli-user-migrate-auth">
<div><dl class="simple">
<dt>Description</dt><dd><p>Migrates all existing Mattermost user accounts from one authentication provider to another. For example, you can upgrade your authentication provider from email to AD/LDAP, or from AD/LDAP to SAML. Output will display any accounts that are not migrated successfully. These accounts might be blocked because of filters in your AD/LDAP configuration in the System Console.</p>
</dd>
</dl>
</div></blockquote>
<p><strong>Migrate to AD/LDAP</strong></p>
<blockquote>
<div><dl>
<dt>Parameters</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from_auth</span></code>: The authentication service from which to migrate user accounts. Supported options: <code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">gitlab</span></code>, <code class="docutils literal notranslate"><span class="pre">saml</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_auth</span></code>: The authentication service to which to migrate user accounts. Supported options: <code class="docutils literal notranslate"><span class="pre">ldap</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">match_field</span></code>: The field that is guaranteed to be the same in both authentication services. For example, if the user emails are consistent set to email. Supported options: <code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">username</span></code>.</p></li>
</ul>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user migrate_auth {from_auth} ldap {match_field}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user migrate_auth email ldap email
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--force  Ignore duplicate entries on the AD/LDAP server.
--dryRun Run a simulation of the migration process without changing the database.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
<p><strong>Migrate to SAML</strong></p>
<p><em>Supported in Mattermost v4.8 and later</em></p>
<blockquote>
<div><p>Parameters</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">from_auth</span></code>: The authentication service from which to migrate user accounts. Supported options: <code class="docutils literal notranslate"><span class="pre">email</span></code>, <code class="docutils literal notranslate"><span class="pre">gitlab</span></code>. <code class="docutils literal notranslate"><span class="pre">ldap</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_auth</span></code>: The authentication service to which to migrate user accounts. Supported options: <code class="docutils literal notranslate"><span class="pre">saml</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">users_file</span></code>: The path of a JSON file with the usernames and emails of all users to migrate to SAML. The username and email must be the same as in your SAML service provider. Moreover, the email must match the email address of the Mattermost user account. An example of the users file is below:</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;user1@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;username.one&quot;</span><span class="p">,</span>
  <span class="nt">&quot;user2@email.com&quot;</span><span class="p">:</span> <span class="s2">&quot;username.two&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<dl>
<dt>Users file generation</dt><dd><p>Generating the <code class="docutils literal notranslate"><span class="pre">users_file</span></code> depends on how the system is configured and which SAML service provider is used. Below are two sample scripts for OneLogin and Okta service providers. For ADFS, you can use the AD/LDAP protocol to directly extract the users information and export it to a JSON file.</p>
<p>After generating the <code class="docutils literal notranslate"><span class="pre">users_file</span></code>, you can manually update the file to obtain a list of Mattermost user accounts you want to migrate to SAML. Note that users listed in <code class="docutils literal notranslate"><span class="pre">users_file</span></code> that do not yet exist in Mattermost are ignored during the migration process.</p>
<p>OneLogin:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">onelogin.api.client</span> <span class="kn">import</span> <span class="n">OneLoginClient</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">client_id</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Client id: &quot;</span><span class="p">)</span>
<span class="n">client_secret</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Secret: &quot;</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Region (us, eu): &quot;</span><span class="p">)</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">OneLoginClient</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">client_secret</span><span class="p">,</span> <span class="n">region</span><span class="p">)</span>

<span class="n">mapping</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">client</span><span class="o">.</span><span class="n">get_users</span><span class="p">():</span>
    <span class="n">mapping</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">username</span>

<span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="s2">&quot;saml_users.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span>
</pre></div>
</div>
<p>Okta:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">okta</span> <span class="kn">import</span> <span class="n">UsersClient</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">base_url</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Base url (example: https://example.okta.com): &quot;</span><span class="p">)</span>
<span class="n">api_token</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;API Token: &quot;</span><span class="p">)</span>

<span class="n">usersClient</span> <span class="o">=</span> <span class="n">UsersClient</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span> <span class="n">api_token</span><span class="p">)</span>

<span class="n">users</span> <span class="o">=</span> <span class="n">usersClient</span><span class="o">.</span><span class="n">get_paged_users</span><span class="p">(</span><span class="n">limit</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>

<span class="n">mapping</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>
    <span class="n">mapping</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">email</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">login</span>

<span class="k">while</span> <span class="ow">not</span> <span class="n">users</span><span class="o">.</span><span class="n">is_last_page</span><span class="p">():</span>
    <span class="n">users</span> <span class="o">=</span> <span class="n">usersClient</span><span class="o">.</span><span class="n">get_paged_users</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">users</span><span class="o">.</span><span class="n">next_url</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users</span><span class="o">.</span><span class="n">result</span><span class="p">:</span>
        <span class="n">mapping</span><span class="p">[</span><span class="n">user</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">email</span><span class="p">]</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">profile</span><span class="o">.</span><span class="n">login</span>

<span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="s2">&quot;saml_users.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span>
</pre></div>
</div>
<p>ADFS:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ldap</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">getpass</span>

<span class="n">ldap_host</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Ldap Host (example ldap://localhost:389): &#39;</span><span class="p">)</span>
<span class="n">base_dn</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Base DN (example dc=mm,dc=test,dc=com): &#39;</span><span class="p">)</span>
<span class="n">bind_dn</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Bind DN (example ORGANIZATION\username): &#39;</span><span class="p">)</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s1">&#39;Password: &#39;</span><span class="p">)</span>
<span class="n">user_object_class</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;User object class (example organizationalPerson): &#39;</span><span class="p">)</span>
<span class="n">username_field</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Username field (example sAMAccountName): &#39;</span><span class="p">)</span>
<span class="n">mail_field</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Mail field (example mail): &#39;</span><span class="p">)</span>

<span class="n">l</span> <span class="o">=</span> <span class="n">ldap</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">ldap_host</span><span class="p">)</span>
<span class="n">l</span><span class="o">.</span><span class="n">simple_bind_s</span><span class="p">(</span><span class="n">bind_dn</span><span class="p">,</span> <span class="n">password</span><span class="p">)</span>
<span class="n">page_control</span> <span class="o">=</span> <span class="n">ldap</span><span class="o">.</span><span class="n">controls</span><span class="o">.</span><span class="n">libldap</span><span class="o">.</span><span class="n">SimplePagedResultsControl</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">cookie</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">search_ext</span><span class="p">(</span><span class="n">base_dn</span><span class="p">,</span> <span class="n">ldap</span><span class="o">.</span><span class="n">SCOPE_SUBTREE</span><span class="p">,</span> <span class="s1">&#39;(objectClass=&#39;</span><span class="o">+</span><span class="n">user_object_class</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">username_field</span><span class="p">,</span> <span class="n">mail_field</span><span class="p">],</span>         <span class="n">serverctrls</span><span class="o">=</span><span class="p">[</span><span class="n">page_control</span><span class="p">])</span>

<span class="n">mapping</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">rtype</span><span class="p">,</span> <span class="n">rdata</span><span class="p">,</span> <span class="n">rmsgid</span><span class="p">,</span> <span class="n">serverctrls</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">result3</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">dn</span><span class="p">,</span> <span class="n">entry</span> <span class="ow">in</span> <span class="n">rdata</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">mail_field</span> <span class="ow">in</span> <span class="n">entry</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="n">mail_field</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">username_field</span> <span class="ow">in</span> <span class="n">entry</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">entry</span><span class="p">[</span><span class="n">username_field</span><span class="p">])</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">mapping</span><span class="p">[</span><span class="n">entry</span><span class="p">[</span><span class="n">mail_field</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)]</span> <span class="o">=</span> <span class="n">entry</span><span class="p">[</span><span class="n">username_field</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>

    <span class="n">controls</span> <span class="o">=</span> <span class="p">[</span><span class="n">control</span> <span class="k">for</span> <span class="n">control</span> <span class="ow">in</span> <span class="n">serverctrls</span> <span class="k">if</span> <span class="n">control</span><span class="o">.</span><span class="n">controlType</span> <span class="o">==</span> <span class="n">ldap</span><span class="o">.</span><span class="n">controls</span><span class="o">.</span><span class="n">libldap</span><span class="o">.</span><span class="n">SimplePagedResultsControl</span><span class="o">.</span><span class="n">controlType</span><span class="p">]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">controls</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The server ignores RFC 2696 control&#39;</span><span class="p">)</span>
        <span class="k">break</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">controls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cookie</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">page_control</span><span class="o">.</span><span class="n">cookie</span> <span class="o">=</span> <span class="n">controls</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cookie</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">search_ext</span><span class="p">(</span><span class="n">base_dn</span><span class="p">,</span> <span class="n">ldap</span><span class="o">.</span><span class="n">SCOPE_SUBTREE</span><span class="p">,</span> <span class="s1">&#39;(objectClass=&#39;</span><span class="o">+</span><span class="n">user_object_class</span><span class="o">+</span><span class="s1">&#39;)&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">username_field</span><span class="p">,</span> <span class="n">mail_field</span><span class="p">],</span> <span class="n">serverctrls</span><span class="o">=</span><span class="p">[</span><span class="n">page_control</span><span class="p">])</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;saml_users.json&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">fd</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user migrate_auth {from_auth} saml {users_file}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user migrate_auth email saml users.json
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--auto   Automatically migrate all users without a {users_file}. Assumes the usernames and emails are identical between Mattermost and SAML services.
--dryRun Run a simulation of the migration process without changing the database. Useful to test if the migration results in any errors. You can use this option with or without a {users_file}.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-user-password">
<h4><a class="toc-backref" href="#contents">mattermost user password</a><a class="headerlink" href="#mattermost-user-password" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-reset-password">mmctl user reset_password</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Set a user’s password.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user password {user} {password}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user password user@example.com Password1
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-resetmfa">
<h4><a class="toc-backref" href="#contents">mattermost user resetmfa</a><a class="headerlink" href="#mattermost-user-resetmfa" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-resetmfa">mmctl user resetmfa</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Turns off multi-factor authentication for a user. If MFA enforcement is enabled, the user will be forced to re-enable MFA with a new device as soon as they log in.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user resetmfa {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user resetmfa user@example.com
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-search">
<h4><a class="toc-backref" href="#contents">mattermost user search</a><a class="headerlink" href="#mattermost-user-search" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-user-search">mmctl user search</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Search for users based on username, email, or user ID.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user search {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user search user1@example.com user2@example.com
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-user-verify">
<h4><a class="toc-backref" href="#contents">mattermost user verify</a><a class="headerlink" href="#mattermost-user-verify" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Verify the email address of a new user.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost user verify {users}
</pre></div>
</div>
</dd>
<dt>Example</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost user verify user1
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="mattermost-version">
<h3><a class="toc-backref" href="#contents">mattermost version</a><a class="headerlink" href="#mattermost-version" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command will be replaced in a future release with the mmctl command <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html#mmctl-system-version">mmctl system version</a>.</p>
</div>
<dl>
<dt>Description</dt><dd><blockquote>
<div><p>Displays Mattermost version information.</p>
</div></blockquote>
<dl>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost version
</pre></div>
</div>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="mattermost-webhook">
<h3><a class="toc-backref" href="#contents">mattermost webhook</a><a class="headerlink" href="#mattermost-webhook" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="simple">
<dt>Description</dt><dd><p>Commands to manage webhooks.</p>
</dd>
<dt>Child Commands</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#mattermost-webhook-create-incoming">mattermost webhook create-incoming</a> - Create an incoming webhook within specific channel.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-create-outgoing">mattermost webhook create-outgoing</a> - Create an outgoing webhook within specific channel.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-delete">mattermost webhook delete</a> - Delete incoming and outgoing webhooks.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-list">mattermost webhook list</a> - List all webhooks.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-modify-incoming">mattermost webhook modify-incoming</a> - Modify an existing incoming webhook by changing its title, description, channel, or icon URL.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-modify-outgoing">mattermost webhook modify-outgoing</a> - Modify an existing outgoing webhook by changing its title, description, channel, icon, URL, content-type, and triggers.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-move-outgoing">mattermost webhook move-outgoing</a> - Move an existing outgoing webhook with an ID.</p></li>
<li><p><a class="reference internal" href="#mattermost-webhook-show">mattermost webhook show</a> - Show information about a webhook by providing the webhook ID.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<div class="section" id="mattermost-webhook-create-incoming">
<h4><a class="toc-backref" href="#contents">mattermost webhook create-incoming</a><a class="headerlink" href="#mattermost-webhook-create-incoming" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Create an incoming webhook within specific channel.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook create-incoming
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook create-incoming --channel [channelID] --user [userID] --display-name [display-name] --description [webhookDescription] --lock-to-channel --icon [iconURL]
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--channel string           Channel ID
--user string              User ID
--display-name string      Incoming webhook display name
--description string       Incoming webhook description
--lock-to-channel boolean  (True/False) Lock incoming webhook to channel
--icon [iconURL]           Icon URL
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-create-outgoing">
<h4><a class="toc-backref" href="#contents">mattermost webhook create-outgoing</a><a class="headerlink" href="#mattermost-webhook-create-outgoing" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Create an outgoing webhook which allows external posting of messages from a specific channel.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook create-outgoing
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook create-outgoing --team myteam --channel mychannel --user myusername --display-name mywebhook --description &quot;My cool webhook&quot; --trigger-when start --trigger-word &quot;build&quot; --icon http://localhost:8000/my-slash-handler-bot-icon.png --url http://localhost:8000/my-webhook-handler --content-type &quot;application/json&quot;

bin/mattermost webhook create-outgoing --team myotherteam --channel mychannel --user myusername --display-name myotherwebhook --description &quot;My cool webhook&quot; --trigger-when exact --trigger-word &quot;build&quot; --trigger-word &quot;test&quot; --trigger-word &quot;third-trigger&quot; --icon http://localhost:8000/my-slash-handler-bot-icon.png --url http://localhost:8000/my-webhook-handler --url http://example.com --content-type &quot;application/json&quot;
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--team string [REQUIRED]                Team name or ID
--channel string                        Channel name or ID
--user string [REQUIRED]                User username, email, or ID
--display-name string [REQUIRED]        Outgoing webhook display name
--description string                    Outgoing webhook description
--trigger-words stringArray [REQUIRED]  Words to trigger webhook
--trigger-when string [REQUIRED]        When to trigger webhook (exact: for first word matches a trigger word exactly, start: for first word starts with a trigger word) (default &quot;exact&quot;)
--icon [iconURL]                        Icon URL
--url stringArray [REQUIRED]            Callback URLs
--content-type string                   Content-type
--h, --help         Help for create-outgoing
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-delete">
<h4><a class="toc-backref" href="#contents">mattermost webhook delete</a><a class="headerlink" href="#mattermost-webhook-delete" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Delete incoming and outgoing webhooks. If deleting multiple webhooks, use a space-separated list.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook delete [webhookID]
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook delete ggwpz8c1oj883euk98wfm9n1cr
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-list">
<h4><a class="toc-backref" href="#contents">mattermost webhook list</a><a class="headerlink" href="#mattermost-webhook-list" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>List all webhooks.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook list {team}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook list team1
bin/mattermost webhook list
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--team string  Specific team results to return.  If not specified, all teams will be included.
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-modify-incoming">
<h4><a class="toc-backref" href="#contents">mattermost webhook modify-incoming</a><a class="headerlink" href="#mattermost-webhook-modify-incoming" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Modify an existing incoming webhook by changing its title, description, channel or icon url.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook modify-incoming {webhookId}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook modify-incoming [webhookID] --channel [channelID] --display-name [displayName] --description [webhookDescription] --lock-to-channel --icon [iconURL]
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--channel string              Channel ID
--display-name string         Incoming webhook display name
--description string          Incoming webhook description
--lock-to-channel boolean     (True/False) Lock incoming webhook to channel
--icon [iconURL]              Icon URL
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-modify-outgoing">
<h4><a class="toc-backref" href="#contents">mattermost webhook modify-outgoing</a><a class="headerlink" href="#mattermost-webhook-modify-outgoing" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Modify an existing outgoing webhook by changing its title, description, channel, trigger words, icon url, callback url, or content type.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook modify-outgoing {webhookId}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook modify-outgoing [webhookId] --channel [channelId] --display-name [displayName] --description &quot;New webhook description&quot; --icon http://localhost:8000/my-slash-handler-bot-icon.png --url http://localhost:8000/my-webhook-handler --content-type &quot;application/json&quot; --trigger-word test --trigger-when start`
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span> --channel string              Channel ID
 --display-name string         Incoming webhook display name
 --description string          Incoming webhook description
 --trigger-word string array   Word(s) to trigger webhook
 --trigger-when string         When to trigger webhook (exact: for first word matches a trigger word exactly, start: for first word starts with a trigger word)&quot;)
--icon [iconURL]              Icon URL
 --url [callbackURL]           Callback URL
 --content-type string         Content type
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-move-outgoing">
<h4><a class="toc-backref" href="#contents">mattermost webhook move-outgoing</a><a class="headerlink" href="#mattermost-webhook-move-outgoing" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Move an existing outgoing webhook to another team by specifying its id. If the outgoing webhook is triggered by a keyword then assiging a channel is optional.  If the outgoing webhook is associated to a specific channel prior to moving, a channel must be specified within the new team.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook move-outgoing {webhookId}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook move-outgoing newteam oldteam:[webhookId] --channel [channelId or channelName]
</pre></div>
</div>
</dd>
<dt>Options</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>--channel string              Channel ID or Channel Name
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="mattermost-webhook-show">
<h4><a class="toc-backref" href="#contents">mattermost webhook show</a><a class="headerlink" href="#mattermost-webhook-show" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><dl>
<dt>Description</dt><dd><p>Show information about a webhook by providing the webhook ID. Returns display name, channel ID and team ID for both incoming and outgoing webhooks.  Additionally returns callback URL, username, and icon URL for outgoing webhooks.</p>
</dd>
<dt>Format</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>mattermost webhook show {webhookId}
</pre></div>
</div>
</dd>
<dt>Examples</dt><dd><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bin/mattermost webhook show [webhookId]
</pre></div>
</div>
</dd>
</dl>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="mattermost-3-5-and-earlier">
<h2><a class="toc-backref" href="#contents">Mattermost 3.5 and earlier</a><a class="headerlink" href="#mattermost-3-5-and-earlier" title="Permalink to this headline">¶</a></h2>
<p>Typing <code class="docutils literal notranslate"><span class="pre">./platform</span> <span class="pre">-help</span></code> brings up documentation for the CLI tool. To return the help documentation in GitLab omnibus, type</p>
<blockquote>
<div><div class="highlight-none notranslate"><div class="highlight"><pre><span></span>sudo -u mattermost /opt/gitlab/embedded/bin/mattermost --config=/var/opt/gitlab/mattermost/config.json -help
</pre></div>
</div>
</div></blockquote>
<p>Notes:</p>
<ul class="simple">
<li><p>Parameters in CLI commands are order-specific.</p></li>
<li><p>If special characters (<code class="docutils literal notranslate"><span class="pre">!</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code>, <code class="docutils literal notranslate"><span class="pre">(</span></code>, <code class="docutils literal notranslate"><span class="pre">)</span></code>, <code class="docutils literal notranslate"><span class="pre">\</span></code>, <code class="docutils literal notranslate"><span class="pre">`</span></code>, and <code class="docutils literal notranslate"><span class="pre">&quot;</span></code>) are used, the entire argument needs to be surrounded by single quotes (e.g. <code class="docutils literal notranslate"><span class="pre">-password</span> <span class="pre">'mypassword!'</span></code>, or the individual characters need to be escaped out (e.g. <code class="docutils literal notranslate"><span class="pre">-password</span> <span class="pre">mypassword\!</span></code>).</p></li>
<li><p>Team name and channel name refer to the handles, not the display names. So in the url <code class="docutils literal notranslate"><span class="pre">https://community.mattermost.com/core/channels/town-square</span></code> team name would be <code class="docutils literal notranslate"><span class="pre">core</span></code> and channel name would be <code class="docutils literal notranslate"><span class="pre">town-square</span></code></p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you automate user creation through the CLI tool with SMTP enabled, emails will be sent to all new users created. If you run such a load script, it is best to disable SMTP or to use test accounts so that new account creation emails aren’t unintentionally sent to people at your organization who aren’t expecting them.</p>
</div>
<p>CLI Documentation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Mattermost</span> <span class="n">commands</span> <span class="n">to</span> <span class="n">help</span> <span class="n">configure</span> <span class="n">the</span> <span class="n">system</span>

<span class="n">NAME</span><span class="p">:</span>
    <span class="n">platform</span> <span class="o">--</span> <span class="n">platform</span> <span class="n">configuration</span> <span class="n">tool</span>

<span class="n">USAGE</span><span class="p">:</span>
    <span class="n">platform</span> <span class="p">[</span><span class="n">options</span><span class="p">]</span>

<span class="n">FLAGS</span><span class="p">:</span>
    <span class="o">-</span><span class="n">config</span><span class="o">=</span><span class="s2">&quot;config.json&quot;</span>             <span class="n">Path</span> <span class="n">to</span> <span class="n">the</span> <span class="n">config</span> <span class="n">file</span>

    <span class="o">-</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;someuser&quot;</span>              <span class="n">Username</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">license</span><span class="o">=</span><span class="s2">&quot;ex.mattermost-license&quot;</span>  <span class="n">Path</span> <span class="n">to</span> <span class="n">your</span> <span class="n">license</span> <span class="n">file</span>

    <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>         <span class="n">Email</span> <span class="n">address</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">password</span><span class="o">=</span><span class="s2">&quot;mypassword&quot;</span>            <span class="n">Password</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>                 <span class="n">The</span> <span class="n">team</span> <span class="n">name</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">channel_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>              <span class="n">The</span> <span class="n">channel</span> <span class="n">name</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">channel_header</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>          <span class="n">The</span> <span class="n">channel</span> <span class="n">header</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">channel_purpose</span><span class="o">=</span><span class="s2">&quot;string&quot;</span>         <span class="n">The</span> <span class="n">channel</span> <span class="n">purpose</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>

    <span class="o">-</span><span class="n">channel_type</span><span class="o">=</span><span class="s2">&quot;type&quot;</span>              <span class="n">The</span> <span class="n">channel</span> <span class="nb">type</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>
                                      <span class="n">valid</span> <span class="n">values</span> <span class="n">are</span>
                                        <span class="s2">&quot;O&quot;</span> <span class="o">-</span> <span class="n">public</span> <span class="n">channel</span>
                                        <span class="s2">&quot;P&quot;</span> <span class="o">-</span> <span class="n">private</span> <span class="n">channel</span>

    <span class="o">-</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;system_admin&quot;</span>               <span class="n">The</span> <span class="n">role</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">other</span> <span class="n">commands</span>
                                       <span class="n">valid</span> <span class="n">values</span> <span class="n">are</span>
                                         <span class="s2">&quot;&quot;</span> <span class="o">-</span> <span class="n">The</span> <span class="n">empty</span> <span class="n">role</span> <span class="ow">is</span> <span class="n">basic</span> <span class="n">user</span>
                                            <span class="n">permissions</span>
                                         <span class="s2">&quot;system_admin&quot;</span> <span class="o">-</span> <span class="n">Represents</span> <span class="n">a</span> <span class="n">system</span>
                                            <span class="n">admin</span> <span class="n">who</span> <span class="n">has</span> <span class="n">access</span> <span class="n">to</span> <span class="nb">all</span> <span class="n">teams</span>
                                            <span class="ow">and</span> <span class="n">configuration</span> <span class="n">settings</span><span class="o">.</span>
<span class="n">COMMANDS</span><span class="p">:</span>
    <span class="o">-</span><span class="n">create_team</span>                      <span class="n">Creates</span> <span class="n">a</span> <span class="n">team</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">team_name</span>
                                      <span class="ow">and</span> <span class="o">-</span><span class="n">email</span> <span class="n">flag</span> <span class="n">to</span> <span class="n">create</span> <span class="n">a</span> <span class="n">team</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">create_team</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>

    <span class="o">-</span><span class="n">create_user</span>                      <span class="n">Creates</span> <span class="n">a</span> <span class="n">user</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">email</span> <span class="ow">and</span> <span class="o">-</span><span class="n">password</span> <span class="n">flag</span><span class="p">,</span>
                                       <span class="ow">and</span> <span class="o">-</span><span class="n">team_name</span> <span class="ow">and</span> <span class="o">-</span><span class="n">username</span> <span class="n">are</span> <span class="n">optional</span> <span class="n">to</span> <span class="n">create</span> <span class="n">a</span> <span class="n">user</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">create_user</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">password</span><span class="o">=</span><span class="s2">&quot;mypassword&quot;</span> <span class="o">-</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;user&quot;</span>

    <span class="o">-</span><span class="n">invite_user</span>                      <span class="n">Invites</span> <span class="n">a</span> <span class="n">user</span> <span class="n">to</span> <span class="n">a</span> <span class="n">team</span> <span class="n">by</span> <span class="n">email</span><span class="o">.</span> <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">team_name</span>
                                        <span class="ow">and</span> <span class="o">-</span><span class="n">email</span> <span class="n">flags</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">invite_user</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>

    <span class="o">-</span><span class="n">join_team</span>                        <span class="n">Joins</span> <span class="n">a</span> <span class="n">user</span> <span class="n">to</span> <span class="n">the</span> <span class="n">team</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">email</span> <span class="ow">and</span>
                                       <span class="o">-</span><span class="n">team_name</span> <span class="n">flags</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">logout</span> <span class="n">of</span> <span class="n">your</span> <span class="n">current</span> <span class="n">session</span>
                                       <span class="k">for</span> <span class="n">the</span> <span class="n">new</span> <span class="n">team</span> <span class="n">to</span> <span class="n">be</span> <span class="n">applied</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">join_team</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>

    <span class="o">-</span><span class="n">assign_role</span>                      <span class="n">Assigns</span> <span class="n">role</span> <span class="n">to</span> <span class="n">a</span> <span class="n">user</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">role</span> <span class="ow">and</span>
                                      <span class="o">-</span><span class="n">email</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">log</span> <span class="n">out</span>
                                      <span class="n">of</span> <span class="n">your</span> <span class="n">current</span> <span class="n">sessions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">new</span> <span class="n">role</span> <span class="n">to</span> <span class="n">be</span>
                                      <span class="n">applied</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">assign_role</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">role</span><span class="o">=</span><span class="s2">&quot;system_admin&quot;</span>

    <span class="o">-</span><span class="n">create_channel</span>                   <span class="n">Create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">channel</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">team</span><span class="o">.</span> <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">email</span><span class="p">,</span>
                                      <span class="o">-</span><span class="n">team_name</span><span class="p">,</span> <span class="o">-</span><span class="n">channel_name</span><span class="p">,</span> <span class="o">-</span><span class="n">channel_type</span> <span class="n">flags</span><span class="o">.</span> <span class="n">Optional</span> <span class="n">you</span> <span class="n">can</span> <span class="nb">set</span>
                                      <span class="n">the</span> <span class="o">-</span><span class="n">channel_header</span> <span class="ow">and</span> <span class="o">-</span><span class="n">channel_purpose</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">create_channel</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">channel_name</span><span class="o">=</span><span class="s2">&quot;channel_name&quot;</span> <span class="o">-</span><span class="n">channel_type</span><span class="o">=</span><span class="s2">&quot;O&quot;</span>

    <span class="o">-</span><span class="n">join_channel</span>                     <span class="n">Joins</span> <span class="n">a</span> <span class="n">user</span> <span class="n">to</span> <span class="n">the</span> <span class="n">channel</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">email</span><span class="p">,</span> <span class="o">-</span><span class="n">channel_name</span> <span class="ow">and</span>
                                      <span class="o">-</span><span class="n">team_name</span> <span class="n">flags</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">logout</span> <span class="n">of</span> <span class="n">your</span> <span class="n">current</span> <span class="n">session</span>
                                      <span class="k">for</span> <span class="n">the</span> <span class="n">new</span> <span class="n">channel</span> <span class="n">to</span> <span class="n">be</span> <span class="n">applied</span><span class="o">.</span>  <span class="n">Requires</span> <span class="n">an</span> <span class="n">enterprise</span> <span class="n">license</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">join_channel</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">channel_name</span><span class="o">=</span><span class="s2">&quot;channel_name&quot;</span>

    <span class="o">-</span><span class="n">leave_channel</span>                     <span class="n">Removes</span> <span class="n">a</span> <span class="n">user</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">channel</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">email</span><span class="p">,</span> <span class="o">-</span><span class="n">channel_name</span> <span class="ow">and</span>
                                       <span class="o">-</span><span class="n">team_name</span> <span class="n">flags</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">logout</span> <span class="n">of</span> <span class="n">your</span> <span class="n">current</span> <span class="n">session</span>
                                       <span class="k">for</span> <span class="n">the</span> <span class="n">channel</span> <span class="n">to</span> <span class="n">be</span> <span class="n">removed</span><span class="o">.</span>  <span class="n">Requires</span> <span class="n">an</span> <span class="n">enterprise</span> <span class="n">license</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">leave_channel</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">channel_name</span><span class="o">=</span><span class="s2">&quot;channel_name&quot;</span>

    <span class="o">-</span><span class="n">list_channels</span>                     <span class="n">Lists</span> <span class="nb">all</span> <span class="n">channels</span> <span class="k">for</span> <span class="n">a</span> <span class="n">given</span> <span class="n">team</span><span class="o">.</span>
                                       <span class="n">It</span> <span class="n">will</span> <span class="n">append</span> <span class="s1">&#39; (archived)&#39;</span> <span class="n">to</span> <span class="n">the</span> <span class="n">channel</span> <span class="n">name</span> <span class="k">if</span> <span class="n">archived</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span>
                                       <span class="o">-</span><span class="n">team_name</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">Requires</span> <span class="n">an</span> <span class="n">enterprise</span> <span class="n">license</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">list_channels</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>

    <span class="o">-</span><span class="n">restore_channel</span>                  <span class="n">Restores</span> <span class="n">a</span> <span class="n">previously</span> <span class="n">deleted</span> <span class="n">channel</span><span class="o">.</span>
                                      <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">channel_name</span> <span class="n">flag</span> <span class="ow">and</span>
                                      <span class="o">-</span><span class="n">team_name</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">Requires</span> <span class="n">an</span> <span class="n">enterprise</span> <span class="n">license</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">restore_channel</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">channel_name</span><span class="o">=</span><span class="s2">&quot;channel_name&quot;</span>

    <span class="o">-</span><span class="n">reset_password</span>                   <span class="n">Resets</span> <span class="n">the</span> <span class="n">password</span> <span class="k">for</span> <span class="n">a</span> <span class="n">user</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span>
                                      <span class="o">-</span><span class="n">email</span> <span class="ow">and</span> <span class="o">-</span><span class="n">password</span> <span class="n">flag</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">reset_password</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span> <span class="o">-</span><span class="n">password</span><span class="o">=</span><span class="s2">&quot;newpassword&quot;</span>

    <span class="o">-</span><span class="n">reset_mfa</span>                        <span class="n">Turns</span> <span class="n">off</span> <span class="n">multi</span><span class="o">-</span><span class="n">factor</span> <span class="n">authentication</span> <span class="k">for</span> <span class="n">a</span> <span class="n">user</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span>
                                      <span class="o">-</span><span class="n">email</span> <span class="ow">or</span> <span class="o">-</span><span class="n">username</span> <span class="n">flag</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">reset_mfa</span> <span class="o">-</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;someuser&quot;</span>

    <span class="o">-</span><span class="n">reset_database</span>                   <span class="n">Completely</span> <span class="n">erases</span> <span class="n">the</span> <span class="n">database</span> <span class="n">causing</span> <span class="n">the</span> <span class="n">loss</span> <span class="n">of</span> <span class="nb">all</span> <span class="n">data</span><span class="o">.</span> <span class="n">This</span>
                                      <span class="n">will</span> <span class="n">reset</span> <span class="n">Mattermost</span> <span class="n">to</span> <span class="n">it</span><span class="s1">&#39;s initial state. (note this will not</span>
                                      <span class="n">erase</span> <span class="n">your</span> <span class="n">configuration</span><span class="o">.</span><span class="p">)</span>

        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">reset_database</span>

    <span class="o">-</span><span class="n">permanent_delete_user</span>            <span class="n">Permanently</span> <span class="n">deletes</span> <span class="n">a</span> <span class="n">user</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">related</span> <span class="n">information</span>
                                      <span class="n">including</span> <span class="n">posts</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">database</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span>
                                      <span class="o">-</span><span class="n">email</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">restart</span> <span class="n">the</span>
                                      <span class="n">server</span> <span class="n">to</span> <span class="n">invalidate</span> <span class="n">the</span> <span class="n">cache</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">permanent_delete_user</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>

    <span class="o">-</span><span class="n">permanent_delete_all_users</span>       <span class="n">Permanently</span> <span class="n">deletes</span> <span class="nb">all</span> <span class="n">users</span> <span class="ow">and</span> <span class="nb">all</span> <span class="n">related</span> <span class="n">information</span>
                                      <span class="n">including</span> <span class="n">posts</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">database</span><span class="o">.</span>  <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span>
                                      <span class="o">-</span><span class="n">team_name</span><span class="p">,</span> <span class="ow">and</span> <span class="o">-</span><span class="n">email</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">restart</span> <span class="n">the</span>
                                      <span class="n">server</span> <span class="n">to</span> <span class="n">invalidate</span> <span class="n">the</span> <span class="n">cache</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">permanent_delete_all_users</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span> <span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span>

    <span class="o">-</span><span class="n">permanent_delete_team</span>            <span class="n">Permanently</span> <span class="n">deletes</span> <span class="n">a</span> <span class="n">team</span> <span class="n">along</span> <span class="k">with</span>
                                      <span class="nb">all</span> <span class="n">related</span> <span class="n">information</span> <span class="n">including</span> <span class="n">posts</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">database</span><span class="o">.</span>
                                      <span class="n">It</span> <span class="n">requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">team_name</span> <span class="n">flag</span><span class="o">.</span>  <span class="n">You</span> <span class="n">may</span> <span class="n">need</span> <span class="n">to</span> <span class="n">restart</span>
                                      <span class="n">the</span> <span class="n">server</span> <span class="n">to</span> <span class="n">invalidate</span> <span class="n">the</span> <span class="n">cache</span><span class="o">.</span>
        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">permanent_delete_team</span> <span class="o">-</span><span class="n">team_name</span><span class="o">=</span><span class="s2">&quot;name&quot;</span>

    <span class="o">-</span><span class="n">upload_license</span>                   <span class="n">Uploads</span> <span class="n">a</span> <span class="n">license</span> <span class="n">to</span> <span class="n">the</span> <span class="n">server</span><span class="o">.</span> <span class="n">Requires</span> <span class="n">the</span> <span class="o">-</span><span class="n">license</span> <span class="n">flag</span><span class="o">.</span>

        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">upload_license</span> <span class="o">-</span><span class="n">license</span><span class="o">=</span><span class="s2">&quot;/path/to/license/example.mattermost-license&quot;</span>

    <span class="o">-</span><span class="n">migrate_accounts</span>                 <span class="n">Migrates</span> <span class="n">accounts</span> <span class="kn">from</span> <span class="nn">one</span> <span class="n">authentication</span> <span class="n">provider</span> <span class="n">to</span> <span class="n">another</span><span class="o">.</span>
                                      <span class="n">Requires</span> <span class="o">-</span><span class="n">from_auth</span> <span class="o">-</span><span class="n">to_auth</span> <span class="ow">and</span> <span class="o">-</span><span class="n">match_field</span> <span class="n">flags</span><span class="o">.</span> <span class="n">Supported</span>
                                      <span class="n">options</span> <span class="k">for</span> <span class="o">-</span><span class="n">from_auth</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span> <span class="n">gitlab</span><span class="p">,</span> <span class="n">saml</span><span class="o">.</span> <span class="n">Supported</span> <span class="n">options</span>
                                      <span class="k">for</span> <span class="o">-</span><span class="n">to_auth</span><span class="p">:</span> <span class="n">ldap</span><span class="o">.</span> <span class="n">Supported</span> <span class="n">options</span> <span class="k">for</span> <span class="o">-</span><span class="n">match_field</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span>
                                      <span class="n">username</span><span class="o">.</span> <span class="n">Output</span> <span class="n">will</span> <span class="n">display</span> <span class="nb">any</span> <span class="n">accounts</span> <span class="n">that</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">migrated</span>
                                      <span class="n">successfully</span><span class="o">.</span>

        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">migrate_accounts</span> <span class="o">-</span><span class="n">from_auth</span> <span class="n">email</span> <span class="o">-</span><span class="n">to_auth</span> <span class="n">ldap</span> <span class="o">-</span><span class="n">match_field</span> <span class="n">username</span>

    <span class="o">-</span><span class="n">upgrade_db_30</span>                   <span class="n">Upgrades</span> <span class="n">the</span> <span class="n">database</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">version</span> <span class="mf">2.</span><span class="n">x</span> <span class="n">schema</span> <span class="n">to</span> <span class="n">version</span> <span class="mi">3</span> <span class="n">see</span>
                                      <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">mattermost</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">upgrading</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">mattermost</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">0</span><span class="o">/</span>

        <span class="n">Example</span><span class="p">:</span>
            <span class="n">platform</span> <span class="o">-</span><span class="n">upgrade_db_30</span>

    <span class="o">-</span><span class="n">version</span>                          <span class="n">Display</span> <span class="n">the</span> <span class="n">current</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Mattermost</span> <span class="n">platform</span>

    <span class="o">-</span><span class="n">help</span>                             <span class="n">Displays</span> <span class="n">this</span> <span class="n">help</span> <span class="n">page</span>
</pre></div>
</div>
</div>
<div class="section" id="troubleshooting">
<h2><a class="toc-backref" href="#contents">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="executing-a-command-hangs-and-doesn-t-complete">
<h3><a class="toc-backref" href="#contents">Executing a command hangs and doesn’t complete</a><a class="headerlink" href="#executing-a-command-hangs-and-doesn-t-complete" title="Permalink to this headline">¶</a></h3>
<p>If you have Bleve search indexing enabled, temporarily disable it in <strong>System Console &gt; Experimental &gt; Bleve</strong> and run the command again. You can also optionally use the new <a class="reference external" href="https://docs.mattermost.com/administration/mmctl-cli-tool.html">mmctl Command Line Tool</a>.</p>
<p>Bleve does not support multiple processes opening and manipulating the same index. Therefore, if the Mattermost server is running, an attempt to run the CLI will lock when trying to open the indeces.</p>
<p>If you are not using the Bleve search indexing, feel free to post in our <a class="reference external" href="https://mattermost.org/troubleshoot/">Troubleshooting forum</a> to get help.</p>
</div>
</div>
</div>


           </div>
           
          </article>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="mmctl-cli-tool.html" class="btn btn-neutral float-right" title="mmctl Command Line Tool (Beta)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../deployment/guest-accounts.html" class="btn btn-neutral float-left" title="Guest Accounts (Beta) (E10/E20)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2015-2021 Mattermost.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/administration/command-line-tools.rst"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/myscript.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

	<script type="text/javascript">
		jQuery(function () {
			SphinxRtdTheme.Navigation.enable(true);
		});
	</script> 

<header>
	<div class="header__container">
		<div class="search__icon">
			<i class="fa fa-search"></i>
		</div>
		<a href="https://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2017/08/Mattermost-Logo-Blue.svg">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://developers.mattermost.com/">Developers</a></li>
			<li><a href="https://mattermost.com/features/">Product</a></li>
			<li><a href="https://mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://mattermost.com/blog/">Blog</a></li>
			<li><a href="https://mattermost.com/download/">Download</a></li>
			<li><a href="https://mattermost.com/trial/">Trial</a></li>
		</ul>
		<div class="header__searchbar">
			<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                <input type="text" name="q" placeholder="Search by keyword" autofocus />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
		</div>
	</div>
</header>

</body>
</html>