


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>&lt;no title&gt; &mdash; Mattermost 5.30 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  
  

  
    <link rel="canonical" href="https://docs.mattermost.com/deployment/deployment.html" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/myscript.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Light Install Guide" href="../help/getting-started/light-install.html" />
    <link rel="prev" title="Architecture Overview" href="../overview/architecture.html" />
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-K874RWM');</script>
	<!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Mattermost
          

          
          </a>

          
            
            
              <div class="version">
                5.30
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/cloud-admin-guide.html">Cloud Administrator's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/administrator.html">Self-Managed Administrator's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/user.html">User's Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/integration.html">Integration Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://developers.mattermost.com/">Developer's Guide</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Mattermost</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          


  


<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../guides/administrator.html">Self-Managed Administrator’s Guide</a> &raquo;</li>
    
    <li>&lt;no title&gt;</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/mattermost/docs/blob/master/source/deployment/deployment.md" class="fa fa-github"> Edit</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p># Deployment Overview</p>
<p>The below diagram illustrates a private cloud deployment of Mattermost with optional configurations for scaling to performance from teams to large organizations.</p>
<p>![image](../images/network.PNG)</p>
<p>[View Mattermost Network Diagram](<a class="reference external" href="https://docs.mattermost.com/_images/network.PNG">https://docs.mattermost.com/_images/network.PNG</a>)</p>
<p>Notes:
- GitLab Mattermost deployment is [documented separately](<a class="reference external" href="https://doc.gitlab.com/omnibus/gitlab-mattermost/">https://doc.gitlab.com/omnibus/gitlab-mattermost/</a>) and not included below.</p>
<p>## Requirements and Installation Guides</p>
<p>Mattermost supports workplace messaging for teams using one to three servers with instructions available in the Install Guides section of this documentation. See [Software and Hardware Requirements](<a class="reference external" href="https://docs.mattermost.com/install/requirements.html">https://docs.mattermost.com/install/requirements.html</a>) documentation for server sizing estimates.</p>
<p>## User Experience</p>
<p>### PC Web Experience</p>
<p>End users can securely share messages and files using a web-based Mattermost experience in Chrome, Firefox, Safari, and Edge. Please see [Software and Hardware Requirements](<a class="reference external" href="https://docs.mattermost.com/install/requirements.html">https://docs.mattermost.com/install/requirements.html</a>) documentation for full details.</p>
<p>### Mobile App Experience</p>
<p>Native applications for iOS and Android are available for interacting with the Mattermost server and receiving encrypted push notifications from your private cloud. Organizations can use [a Hosted Push Notification Service](<a class="reference external" href="https://docs.mattermost.com/deployment/push.html#hosted-push-notifications-service-hpns">https://docs.mattermost.com/deployment/push.html#hosted-push-notifications-service-hpns</a>) with encrypted communications to mobile apps on the App Store and Google Play, or deploy to an [Enterprise App Store](<a class="reference external" href="https://docs.mattermost.com/deployment/push.html#enterprise-app-store-eas">https://docs.mattermost.com/deployment/push.html#enterprise-app-store-eas</a>) on your organization’s private network. A [Test Push Notification Service](<a class="reference external" href="https://docs.mattermost.com/deployment/push.html#test-push-notifications-service-tpns">https://docs.mattermost.com/deployment/push.html#test-push-notifications-service-tpns</a>) is available for use while evaluating options.</p>
<p>### Mobile Web Experience</p>
<p>End users can securely share messages and files using a mobile web-based Mattermost experience on iOS and Android devices. Please see [Software and Hardware Requirements](<a class="reference external" href="https://docs.mattermost.com/install/requirements.html">https://docs.mattermost.com/install/requirements.html</a>) documentation for full details.</p>
<p>### Email Client</p>
<p>Receive emails on desktop and mobile from the Mattermost server.</p>
<p>## Communication Protocols</p>
<p>### HTTPS Connection (Secure Hypertext Transfer Protocol)</p>
<p>The HTTPS connection to the Mattermost server renders pages and provides core functionality. It does not include real-time interactivity, which is enabled by the WSS connection.</p>
<p>If the HTTPS connection is not available, the Mattermost service will not work. HTTPS is a secure, encrypted protocol and is highly recommended for production. An unencrypted HTTP connection may be used in initial testing and configuration but it is not recommended for production.</p>
<p>### WSS Connection (Secure WebSocket Protocol)</p>
<p>The WSS connection to the Mattermost server enables real-time updates and notifications. If the WSS connection is not available, but HTTPS is available, the system will appear to work, but real-time updates and notifications will not work. Updates will only appear on a page refresh. WSS will be a persistent connection to the Mattermost server while you are connected, while HTTPS will be intermittent depending on when you load a page or a file.</p>
<p>Typically a “Mattermost unreachable” error message will be displayed warning users that the Mattermost server is either unreachable or the WebSocket connection is not properly configured.</p>
<p>WSS is a secure, encrypted connection and is highly recommended. An unencrypted WSS connection may be used in initial testing and configuration but it is not recommended for production.</p>
<p>## Network Access and Multi-Factor Authentication</p>
<p>### Behind a VPN</p>
<p>Mattermost is intended to be installed within a private network which can offer multiple factors of authentication, including secure access to computing devices and physical locations.</p>
<p>If outside access is required, a virtual private network client (VPN), such as [OpenVPN](<a class="reference external" href="https://openvpn.net/">https://openvpn.net/</a>), with additional authentication used to connect to Mattermost for web, desktop, and mobile experiences, is recommended.</p>
<p>### Non-VPN Setup</p>
<p>If Mattermost is accessible from the open internet, the following is recommended:</p>
<ol class="arabic simple">
<li><p>An IT admin should be assigned to set up appropriate network security, subscribe to [the Mattermost security bulletin](<a class="reference external" href="https://mattermost.com/security-updates/#sign-up">https://mattermost.com/security-updates/#sign-up</a>) and [apply new security updates](<a class="reference external" href="https://docs.mattermost.com/administration/upgrade.html">https://docs.mattermost.com/administration/upgrade.html</a>).</p></li>
<li><p>The organization upgrades to [Mattermost Enterprise Edition](<a class="reference external" href="https://mattermost.com/pricing-self-managed/">https://mattermost.com/pricing-self-managed/</a>) to enable SAML single sign-on or enable MFA using Google Authenticator. For non-enterprise deployments, VPN is recommended.</p></li>
</ol>
<p>If Mattermost is accessible from the open internet with no VPN or MFA set up, we recommended using it only for non-confidential, unimportant conversations where impact of a compromised system is not essential.</p>
<p><strong>Note:</strong> Not-for-profit and academic institutions are eligible for special [not-for-profit](<a class="reference external" href="https://mattermost.com/nonprofit/">https://mattermost.com/nonprofit/</a>) and [academic pricing](<a class="reference external" href="https://mattermost.com/education/">https://mattermost.com/education/</a>) for Mattermost Enterprise Edition.</p>
<p>## Data Center Infrastructure</p>
<p>### Push Notification Service</p>
<p>The [Mattermost Push Notification Service (MPNS)](<a class="reference external" href="https://docs.mattermost.com/deployment/push.html">https://docs.mattermost.com/deployment/push.html</a>) routes push notifications to:</p>
<ol class="arabic simple">
<li><p>Apple Push Notification Service to send notifications to the Mattermost iOS app.</p></li>
<li><p>Google Push Notification Service to send notifications to the Mattermost Android app.</p></li>
</ol>
<p>If you’re deploying mobile applications to an Enterprise App Store, your MPNS should be behind your firewall on your private network. If you’re using mobile apps in the App Store and Google Play, you can relay notifications to mobile apps using the [Hosted Push Notification Service (HPNS)](<a class="reference external" href="https://docs.mattermost.com/deployment/push.html#hosted-push-notifications-service-hpns">https://docs.mattermost.com/deployment/push.html#hosted-push-notifications-service-hpns</a>) included with Mattermost Enterprise Edition.</p>
<p>HPNS does not connect to your mobile apps directly. It sends messages over an encrypted channel to Apple or Google which are relayed to the app users downloaded from the App Store or Google Play.</p>
<p>### Proxy</p>
<p>The proxy manages Secure Socket Layer (SSL) encryption and sets the policy on how network traffic will be routed to the Mattermost server.</p>
<p>Mattermost install guides include setup instructions for the NGNIX software proxy by default. For large scale deployments, a hardware proxy with dedicated devices for processing SSL encryption and decryption could potentially increase efficiencies.</p>
<p>In a high availability configuration (Enterprise Edition only) the proxy would also balance network load across multiple Mattermost servers.</p>
<p>### Microsoft Active Directory Single Sign-On (Enterprise Edition)</p>
<p>Mattermost Enterprise Edition supports Microsoft Active Directory and LDAP single sign-on with secure transport over TLS or stunnel.</p>
<p>### Private Cloud Integrations</p>
<p>Mattermost offers complete access to its Web Service APIs, along with incoming and outgoing webhooks, and slash command options for integrating with your on-premises systems.</p>
<p>[Visit our app directory](<a class="reference external" href="https://about.mattermost.com/default-app-directory/">https://about.mattermost.com/default-app-directory/</a>) for dozens of open source integrations to common tools like Jira, Jenkins, GitLab, Trac, Redmine, and SVN, along with interactive bot applications (Hubot, mattermost-bot), and other communication tools (Email, IRC, XMPP, Threema) that are freely available for use and customization.</p>
<p>### Email Service</p>
<p>For notifications and account verification, Mattermost connects to your existing email service over SMTP, including Microsoft Exchange, Amazon SES, SendGrid, and self-hosted email solutions.</p>
<p>## Mattermost Server</p>
<p>The Mattermost server installs as a single compiled binary file. All server settings are stored in a configuration file, <code class="docutils literal notranslate"><span class="pre">config/config.json</span></code>, which can be updated directly or via a web-based System Console user interface.</p>
<p>#### RESTful JSON Web Service</p>
<p>The entirety of the Mattermost server is accessible through a RESTful Web Service API. The API can be completely accessed by developers creating custom applications for Mattermost either directly or via Javascript and Golang drivers.</p>
<p>#### Authentication Client</p>
<p>Authenticates users by email or username plus password.</p>
<p>For customers of Enterprise Edition, single sign-on via Microsoft Active Directory and LDAP is also available.</p>
<p>#### Authentication Provider</p>
<p>Enables authentication of Mattermost server to other services with Authentication Client interface using OAuth2.</p>
<p>#### Notification Service</p>
<p>Sends notifications via SMTP email and mobile push notifications via Mattermost Push Notificiation Service.</p>
<p>#### Data Management Service</p>
<p>Connects to and manages supported databases.</p>
<p>### High Availability (Enterprise Edition)</p>
<p>Large organizations needing sophisticated, high scale, high availability configurations can set up a [highly available, horizontally scalable](<a class="reference external" href="https://docs.mattermost.com/deployment/cluster.html">https://docs.mattermost.com/deployment/cluster.html</a>) deployment. Contact the [enterprise team](<a class="reference external" href="https://mattermost.com/contact-us/">https://mattermost.com/contact-us/</a>) for guidance on configuring and sizing Mattermost Enterprise Edition to support your specific needs.</p>
<p>## Data Stores</p>
<p>### Databases</p>
<p>Mattermost uses a MySQL or Postgres database to store and retrieve system data and to execute full text search. Solid State Drives can be used for faster read times to increase performance.</p>
<p>See [Database requirements](<a class="reference external" href="https://docs.mattermost.com/install/requirements.html#database-software">https://docs.mattermost.com/install/requirements.html#database-software</a>) for full details.</p>
<p>#### Multiple Read Replicas (Enterprise Edition)</p>
<p>For enterprise deployments, the Mattermost database can be configured with a master and multiple read replicas. The read replicas can be configured as a redundant backup to the active server, so that during hardware failures operation can be diverted to the read replica server without interrupting service. The safest configuration is to size the disk space on the read replica used for failover two to three times larger than storage available on master, so that if the master fails because it runs out of disk space it will fail over to a read replica with enough extra space to run smoothly until the master is corrected.</p>
<p>#### Search Replicas (Enterprise Edition)</p>
<p>You can configure one or more search replicas to isolate search queries. A search replica is similar to a read replica, but is used only for handling search queries.</p>
<p>#### Global Deployments (Enterprise Edition)</p>
<p>Enterprise customers with deployments spanning many time zones can contact the [Enterprise Team](<a class="reference external" href="https://mattermost.com/contact-us/">https://mattermost.com/contact-us/</a>) for advanced configurations to minimize latency by:</p>
<ol class="arabic simple">
<li><p>Storing static assets over a global CDN.</p></li>
<li><p>Deploying multiple Mattermost servers to host API communication closer to the location of end users.</p></li>
<li><p>Deploying multiple database read replicas closer to the location of end users.</p></li>
</ol>
<p>### File Store</p>
<p>Images and files shared by users are stored and retrieved in one of three options.</p>
<ol class="arabic simple">
<li><p>For teams sharing only modest amounts of file data, local storage on the same physical machine as the Mattermost server may be sufficient.</p></li>
<li><p>For enterprises sharing very large amounts of data, a Network-Attached Storage server may be used, which can scale to peta-bytes if necessary.</p></li>
<li><p>Alternatively, for both ease-of-use and scale, a third option is to use Amazon’s S3 file storage service.</p></li>
</ol>
<p>## Deployment Options</p>
<p>Mattermost Enterprise Edition customers can contact Mattermost, Inc. for advice on deployment options for their specific environments. The following section describes common deployment configurations.</p>
<p>### Mobile Devices with VPN Clients (recommended)</p>
<p>Mattermost can be deployed behind your company firewall on a private network with access from the outside via a Virtual Private Network (VPN). This means running a VPN client on the mobile devices and desktop computers that need to access Mattermost.</p>
<p>The [Mattermost Push Notification Service](<a class="reference external" href="https://docs.mattermost.com/deployment/deployment.html#push-notification-service">https://docs.mattermost.com/deployment/deployment.html#push-notification-service</a>) (MPNS) should be behind your firewall on your private network. MPNS does not connect with mobile apps directly, it forwards push notifications from the Mattermost server to a relay service for the App Store or Google Play, or to mobile apps within an Enterprise App Store.</p>
<p>### Mobile Devices without VPN Clients</p>
<p>If Mattermost is available on the internet, we recommend Mattermost Enterprise Edition featuring SAML-based single sign-on and multi-factor authentication (MFA) using Google Authenticator.</p>
<p>The [Mattermost Push Notification Service](<a class="reference external" href="https://docs.mattermost.com/deployment/deployment.html#push-notification-service">https://docs.mattermost.com/deployment/deployment.html#push-notification-service</a>) (MPNS) should be behind your firewall inside your private network. MPNS does not connect with mobile apps directly, it forwards push notifications from the Mattermost server to a relay service for iOS App Store or Google Play, or directly to mobile apps within an Enterprise App Store behind your firewall.</p>
<p>For support for certificate-based authentication for mobile devices, [contact the Enterprise Sales Team for more information](<a class="reference external" href="https://mattermost.com/contact-us/">https://mattermost.com/contact-us/</a>).</p>
<p>### Mobile Devices with an EMM Provider</p>
<p>Mattermost mobile applications can also be deployed via [EMM providers who support AppConfig](<a class="reference external" href="https://docs.mattermost.com/mobile/mobile-appconfig.html">https://docs.mattermost.com/mobile/mobile-appconfig.html</a>) such as Blackberry UEM, Mobileiron, and Airwatch. EMM solutions typically offer “App Tunnel” or per-app VPN capabilities that can be used to connect to mobile apps behind a VPN.</p>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../help/getting-started/light-install.html" class="btn btn-neutral float-right" title="Light Install Guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../overview/architecture.html" class="btn btn-neutral float-left" title="Architecture Overview" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2015-2020 Mattermost.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  
 




<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-cog">&nbsp;&nbsp;Options</span>&nbsp;
        <span class="fa fa-angle-up"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Contribute</dt>
            <dd>
                <a href="https://github.com/mattermost/docs/issues">Report a Problem</a>
            </dd>
            
            <dd>
                <a href="https://github.com/mattermost/docs/blob/master/source/deployment/deployment.md"> Edit on GitHub</a>
            </dd>
            
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
	<header>
	<div class="header__container">
		<div class="search__icon">
			<i class="fa fa-search"></i>
		</div>
		<a href="https://docs.mattermost.com/" class="header__logo">
			<img width="176" src="https://about.mattermost.com/wp-content/uploads/2017/08/Mattermost-Logo-Blue.svg">
		</a>
		<div class="links__icon">
			<i class="fa fa-bars"></i>
		</div>
		<ul class="header__links">
			<li><a href="https://developers.mattermost.com/">Developers</a></li>
			<li><a href="https://mattermost.com/features/">Product</a></li>
			<li><a href="https://mattermost.com/pricing/">Pricing</a></li>
			<li><a href="https://mattermost.com/blog/">Blog</a></li>
			<li><a href="https://mattermost.com/download/">Download</a></li>
			<li><a href="https://mattermost.com/trial/">Trial</a></li>
		</ul>
		<div class="header__searchbar">
			<form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
                <input type="text" name="q" placeholder="Search by keyword" autofocus />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
		</div>
	</div>
</header>
	<script type="text/javascript">
		/* Temporary fix for the search capability. Fix has been committed to the theme's master;
		   however, waiting a new release to the theme.  This fix should remain in place until that
		   time.  sphinx_rtd_theme is current v0.1.10a0. Commit for the fix in the
		   theme can be found at: https://github.com/snide/sphinx_rtd_theme/commit/a5e0e304
		 */
        if(DOCUMENTATION_OPTIONS) {
			DOCUMENTATION_OPTIONS.SOURCELINK_SUFFIX = '.txt'
        }
    </script>


</body>
</html>